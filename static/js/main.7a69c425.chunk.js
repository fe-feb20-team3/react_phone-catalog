(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(24).concat([function(e,t,a){},,,,,function(e,t,a){e.exports=a(59)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=a(2),i=a(8),s=a.n(i),m=a(14),u=a(1),d=a(5),_=(a(35),[{alt:"First banner",path:"images/banner.jpg"},{alt:"Second banner",path:"images/banner2.jpg"},{alt:"Third banner",path:"images/banner3.jpg"}]),f=[{name:"4"},{name:"8"},{name:"12"},{name:"16"}],g="hotPrice",p="alsoLike",v="newModels",E=[{name:"Screen",order:"info"},{name:"Resolution",order:"detail"},{name:"Processor",order:"detail"},{name:"RAM",order:"info"}],b=[{name:"Screen",order:"info"},{name:"Resolution",order:"detail"},{name:"Processor",order:"detail"},{name:"RAM",order:"info"},{name:"Built in memory",order:"info"},{name:"Camera",order:"detail"},{name:"Zoom",order:"detail"},{name:"Cell",order:"detail"}],N="https://mate-academy.github.io/react_phone-catalog/api";function h(e){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("".concat(N,"/products.json"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/products/").concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=a(6),I=[{name:"Price: Low to High",field:"price",typeField:"number",type:"cheap",isReverse:!1},{name:"Price: High to Low",field:"price",typeField:"number",type:"expensive",isReverse:!0,isDefault:!0},{name:"Goods: A to Z",field:"name",typeField:"string",type:"alphabet",isReverse:!1},{name:"Goods: Z to A",field:"name",typeField:"string",type:"betalpha",isReverse:!0},{name:"Newest",field:"age",typeField:"number",type:"newest",isReverse:!1},{name:"Oldest",field:"age",typeField:"number",type:"oldest",isReverse:!0}],k=function(e,t,a){switch(t){case g:return Object(P.a)(e).filter((function(e){return e.price&&e.discount})).sort((function(e,t){var a=e.discount/100*e.price;return t.discount/100*t.price-a})).slice(0,8);case p:return Object(P.a)(e).sort((function(){return Math.random()-.5})).filter((function(e){return e.id!==a})).slice(0,8);case v:return Object(P.a)(e).sort((function(e,t){return e.age-t.age})).slice(0,8);default:return e}},G=function(e,t,a,n){var r="";if("info"===n)switch(a){case"Screen":r=e.screen;break;case"RAM":r=e.ram;break;case"Built in memory":r=e.capacity}if("detail"===n)switch(a){case"Resolution":r=t.display.screenResolution;break;case"Processor":r=t.hardware.cpu;break;case"Camera":r=t.camera.primary;break;case"Zoom":r=t.camera.zoom;break;case"Cell":r=t.connectivity.cell}return r||"No info"},B=[{name:"Phones",title:"Mobile Phones",url:"phone",type:"phone",imgUrl:"images/category/phones.png"},{name:"Tablets",title:"Tablets",url:"tablet",type:"tablet",imgUrl:"images/category/tablets.png"},{name:"Accessories",title:"Phone and Tablet Accessories",url:"accessories",type:"accessories",imgUrl:"images/category/accessoires.png"}],L=[{name:"Phone Store",title:"Phone Store",url:"/"},{name:"GitHub",url:"http://localhost:3000/#/phones/https://github.com/fe-feb20-team3",external:!0}],w=[{name:"Cart",title:"Cart",url:"cart"},{name:"Favorites",title:"Favorite Products",url:"favorites"}],x=[{name:"Github",url:"https://github.com/fe-feb20-team3",external:!0},{name:"Contacts",url:"contacts"},{name:"Rights",url:"rights"}],F=r.a.createContext({favorites:[],addFavorite:function(){},removeFavorite:function(){},isFavorite:function(){return!1}}),A=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){localStorage.getItem("favoriteProducts")&&l(Object(P.a)(JSON.parse(localStorage.getItem("favoriteProducts")||"")))}),[]),Object(n.useEffect)((function(){return localStorage.setItem("favoriteProducts",JSON.stringify(Object(P.a)(o)))}),[o]);return r.a.createElement(F.Provider,{value:{favorites:o,addFavorite:function(e){l([].concat(Object(P.a)(o),[e.id]))},removeFavorite:function(e){l(o.filter((function(t){return t!==e.id})))},isFavorite:function(e){return o.some((function(t){return t===e.id}))}}},t)},R=(a(36),a(37),function(e){var t=e.links,a=e.className;return r.a.createElement("nav",{className:"Nav ".concat(a||"")},r.a.createElement("ul",{className:"Nav__List"},t.map((function(e){var t=e.name,a=e.url,n=e.exact,c=e.external;return r.a.createElement("li",{className:"Nav__Item",key:t},c&&r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"Nav__Link"},t),!c&&r.a.createElement(l.c,{to:"/".concat(a),exact:n,className:"Nav__Link",activeClassName:"Nav__Link--active"},t))}))))}),T=a(3),M=a.n(T),H=(a(42),function(){var e=Object(d.g)(),t=Object(d.h)(),a=Object(d.i)().section,c=B.some((function(e){return e.url===a})),o=new URLSearchParams(t.search),l=o.get("query")||"",i=Object(n.useState)(l),s=Object(u.a)(i,2),m=s[0],_=s[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){""===l&&f.current&&f.current.focus()}),[l]);var g=Object(n.useCallback)(function(e,t){var a;return function(){var n;clearTimeout(a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];a=(n=window).setTimeout.apply(n,[e,t].concat(c))}}((function(t){""===t?o.delete("query"):o.set("query",t),o.set("page","1"),e.push({search:o.toString()})}),1e3),[]);return r.a.createElement("div",{className:"Search"},c&&r.a.createElement("form",{action:"./",className:"Search__Form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("label",{htmlFor:"search-field",className:"Search__Label"},r.a.createElement("input",{id:"search-field",type:"text",className:"Search__Input",value:m,placeholder:"Search in phones...",ref:f,onChange:function(e){var t=e.target.value;g(t),_(t)}}),r.a.createElement("button",{type:"button",className:M()({Search__Button:!0,"Search__Button--clear":m.length>0}),onClick:function(){o.delete("query"),e.push({search:o.toString()}),g(""),_("")}}))))}),U=(a(43),function(e){var t=e.name,a=e.tag,n=e.size,c=void 0===n?0:n,o=e.border,l=e.inActive;return r.a.createElement("div",{className:M()("Icon Icon--size".concat(c),{Icon__Border:o})},r.a.createElement("div",{className:M()("Icon__Image","Icon__Image--".concat(t),"Icon__Image--size".concat(c),{"Icon__Image--inactive":l})}),Number(a)>0&&r.a.createElement("div",{className:"Icon__Tag Icon__Tag--size".concat(c)},a))}),D=a(12),z=r.a.createContext({cart:[],selectGood:function(){},changeGoodCount:function(){},clearCart:function(){}}),q=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){localStorage.getItem("cartItem")&&l(Object(P.a)(JSON.parse(localStorage.getItem("cartItem")||"")))}),[]),Object(n.useEffect)((function(){return localStorage.setItem("cartItem",JSON.stringify(Object(P.a)(o)))}),[o]);return r.a.createElement(z.Provider,{value:{cart:o,selectGood:function(e){if(o.some((function(t){return t.id===e})))l(o.filter((function(t){return t.id!==e})));else{var t={id:e,count:1};l([].concat(Object(P.a)(o),[t]))}},changeGoodCount:function(e,t){l(o.map((function(a){return Object(D.a)(Object(D.a)({},a),{},{count:e===a.id?a.count+t:a.count})})))},clearCart:function(){l([])}}},t)},J=(a(44),function(e){var t=e.goods,a=Object(n.useContext)(z),c=a.cart,o=a.changeGoodCount,i=a.selectGood,s=a.clearCart,m=Object(n.useState)(t.filter((function(e){return c.some((function(t){return t.id===e.id}))}))),d=Object(u.a)(m,2),_=d[0],f=d[1],g=Object(n.useState)(206),p=Object(u.a)(g,1)[0];Object(n.useEffect)((function(){c.length&&f(t.filter((function(e){return c.some((function(t){return t.id===e.id}))})))}),[c,t]);var v=_.map((function(e){var t;return(e.discount>0?e.price-e.price/100*e.discount:e.price)*((null===(t=c.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.count)||1)})).reduce((function(e,t){return t+e}),0),E=_.map((function(e){var t;return e.price*((null===(t=c.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.count)||1)})).reduce((function(e,t){return e+t}),0);return r.a.createElement(r.a.Fragment,null,0===c.length&&r.a.createElement("div",{className:"Cart__Empty"},r.a.createElement("h1",{className:"Cart__EmptyTitle"},"Cart is empty :("),r.a.createElement("img",{src:"images/emptyCart.png",alt:"Empty Cart",className:"Cart__EmptyImage"}),r.a.createElement("div",{className:"Cart__ButtonContainer"},r.a.createElement(l.b,{className:"Cart__GoShop",to:"/"},"Go to shop"))),c.length>0&&r.a.createElement("div",{className:"Cart container",style:{height:"".concat(90+128*c.length+16*(c.length-1)+p+16,"px")}},r.a.createElement("h1",{className:"Cart__Title"},"Cart"),r.a.createElement("div",{className:"Cart__InfoContainer"},r.a.createElement("ul",{className:"Cart__List",style:{height:"".concat(128*c.length+16*c.length,"px")}},_.map((function(e,t){var a,n,l;return r.a.createElement("li",{className:"Cart__Item",key:e.id,style:{transform:"translateY(".concat(128*t+(16*t-1),"px)")}},r.a.createElement("div",{className:"Cart__Info"},r.a.createElement("label",{className:"Cart__Label"},r.a.createElement("button",{className:"Cart__Remove",onClick:function(){return i(e.id)},type:"button"})),r.a.createElement("div",{className:"Cart__Image-Container"},r.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"Cart__Image"})),r.a.createElement("p",{className:"Cart__Name"},e.name)),r.a.createElement("div",{className:"Cart__CountAndPrice"},r.a.createElement("div",{className:"Cart__ControlPanel"},r.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(a=c.find((function(t){return t.id===e.id&&1===t.count})))||void 0===a?void 0:a.count),onClick:function(){return o(e.id,-1)}},r.a.createElement("span",{className:"Cart__CharMinus"})),r.a.createElement("p",{className:"Cart__ModelCount"},null===(n=c.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.count),r.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(l=c.find((function(t){return t.id===e.id&&10===t.count})))||void 0===l?void 0:l.count),onClick:function(){return o(e.id,1)}},r.a.createElement("span",{className:"Cart__CharPlus"}))),r.a.createElement("p",{className:"Cart__Price"},"$",e.discount>0?e.price-e.discount/100*e.price:e.price),e.discount>0&&r.a.createElement("p",{className:"Cart__OldPriceCard"},"$",e.price)))}))),c.length>0&&r.a.createElement("div",{className:"Cart__Checkout"},r.a.createElement("div",{className:"Cart__CheckoutContainer"},r.a.createElement("p",{className:"Cart__CheckoutPrice"},"$",v),E>v&&r.a.createElement("p",{className:"Cart__OldPrice"},"$",E),r.a.createElement("p",{className:"Cart__CheckoutTotal"},"Total for"," ",c.length," ","items"),r.a.createElement(l.b,{to:"/checkout",className:"Cart__CheckoutButton",onClick:function(){return s()}},"Checkout"))))))}),Z=(a(45),function(){var e=Object(d.h)(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(n.useContext)(F).favorites,s=Object(n.useContext)(z).cart;return Object(n.useEffect)((function(){o(!1)}),[e]),r.a.createElement("nav",{className:"NavSliding"},r.a.createElement("button",{type:"button",className:M()("NavSliding__Button",{"NavSliding__Button--cross":c}),onClick:function(){o(!c)}},r.a.createElement("span",{className:"NavSliding__ButtonLine"}),r.a.createElement("span",{className:"NavSliding__ButtonLine"})),r.a.createElement("section",{className:M()("NavSliding__Block",{show:c})},r.a.createElement("div",{className:"NavSliding__Illustration",onClick:function(){return o(!1)}}),r.a.createElement("div",{className:"NavSliding__Content"},r.a.createElement("ul",{className:"NavSliding__List--secondary NavSliding__List--icons"},r.a.createElement("li",{className:"NavSliding__Item--secondary"},r.a.createElement(l.b,{to:"/favorites",className:"NavSliding__Icon"},r.a.createElement(U,{name:"favorites",tag:i.length,size:3,border:!1,inActive:!1}))),r.a.createElement("li",{className:"NavSliding__Item--secondary"},r.a.createElement(l.b,{to:"/cart",className:"NavSliding__Icon"},r.a.createElement(U,{name:"shopping-bag",tag:s.length,size:3,border:!1,inActive:!1})))),r.a.createElement("ul",{className:"NavSliding__List"},r.a.createElement("li",{className:"NavSliding__Item"},r.a.createElement(l.b,{to:"/",className:"NavSliding__Link NavSliding__Link--primary"},"Home")),B.map((function(e){var t=e.name,a=e.url;return r.a.createElement("li",{className:"NavSliding__Item",key:t},r.a.createElement(l.b,{to:"/".concat(a),className:"NavSliding__Link NavSliding__Link--primary"},t))}))),r.a.createElement("ul",{className:"NavSliding__List--secondary"},x.map((function(e){var t=e.name,a=e.url;return r.a.createElement("li",{className:"NavSliding__Item--secondary",key:t},r.a.createElement(l.b,{to:a,className:"NavSliding__Link NavSliding__Link--secondary"},t))}))))))}),$=function(){var e=Object(n.useContext)(F).favorites,t=Object(n.useContext)(z).cart;return r.a.createElement("header",{className:"Header",id:"top"},r.a.createElement(l.b,{to:"/",className:"Header__Logo"},r.a.createElement("img",{src:"./img/logo.svg",alt:"Logo"})),r.a.createElement("div",{className:"Header__HomeLink"},r.a.createElement(l.c,{to:"/",exact:!0,className:"Nav__Link",activeClassName:"Nav__Link--active"},"Home")),r.a.createElement(R,{links:B,className:"Header__Nav"}),r.a.createElement("div",{className:"Header__Search"},r.a.createElement(d.b,{path:"/:section",exact:!0,component:H})),r.a.createElement(l.b,{to:"/favorites",className:"Header__Button"},r.a.createElement(U,{name:"favorites",tag:e.length,border:!1,inActive:!1})),r.a.createElement(l.b,{to:"/cart",className:"Header__Button"},r.a.createElement(U,{name:"shopping-bag",tag:t.length,border:!1,inActive:!1})),r.a.createElement(Z,null))},Q=(a(46),function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Footer__Content container"},r.a.createElement(l.b,{to:"/",className:"Footer__Logo"},r.a.createElement("img",{src:"./images/logo.svg",alt:"Logo"})),r.a.createElement(R,{links:x}),r.a.createElement(l.b,{to:"#top",className:"Footer__Link",onClick:function(e){e.preventDefault(),window.scrollTo(0,0)}},"Back to top",r.a.createElement(U,{name:"arrow-up",size:2,border:!0,inActive:!1}))))}),W=a(13),X=(a(47),a(48),a(24),function(e){var t=e.text,a=e.selected,c=e.id,o=Object(n.useContext)(z).selectGood;return r.a.createElement("button",{type:"button",className:M()({Button:!0,Button__Primary:!0,"Button__Primary--selected":a}),onClick:function(){return o(c)}},t)}),Y=function(e){var t=e.good,a=Object(n.useContext)(F),c=a.isFavorite,o=a.addFavorite,i=a.removeFavorite,s=Object(n.useContext)(z).cart;return r.a.createElement("article",{key:t.id,className:"GoodsList__Item GoodItem"},r.a.createElement(l.b,{to:"/".concat(t.type,"/").concat(t.id),className:"GoodItem__Link"},r.a.createElement("img",{src:t.imageUrl,alt:t.name,className:"GoodItem__Image"}),r.a.createElement("h3",{className:"GoodItem__Heading"},t.name)),r.a.createElement("section",{className:"GoodItem__Price"},r.a.createElement("span",{className:"GoodItem__Price--actual"},t.discount>0?t.price-t.price/100*t.discount:t.price),t.discount>0&&r.a.createElement("span",{className:"GoodItem__Price--full"},t.price)),r.a.createElement("section",{className:"GoodItem__PropsList"},r.a.createElement("div",{className:"GoodItem__PropsItem"},r.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Screen"),r.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.screen?t.screen:"-")),r.a.createElement("div",{className:"GoodItem__PropsItem"},r.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Capacity"),r.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.capacity?t.capacity:"-")),r.a.createElement("div",{className:"GoodItem__PropsItem"},r.a.createElement("span",{className:"GoodItem__PropsItem--title"},"RAM"),r.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.ram?t.ram:"-"))),r.a.createElement("section",{className:"GoodItem__Buttons"},r.a.createElement("div",{className:"GoodItem__Buttons--main"},r.a.createElement(X,{text:s.some((function(e){return e.id===t.id}))?"Remove from cart":"Add to cart",selected:s.some((function(e){return e.id===t.id})),id:t.id})),r.a.createElement("label",{onClick:function(){var e;c(e=t)?i(e):o(e)}},r.a.createElement(U,{name:c(t)?"favorites-filled":"favorites",border:!0,inActive:!1}))))},K=function(e){var t=e.goods;return r.a.createElement("div",{className:"GoodsList"},t.map((function(e){return r.a.createElement(Y,{good:e,key:e.id})})))},V=(a(49),function(e){var t=e.qty,a=e.perPage,n=Object(d.h)(),c=Object(d.g)(),o=new URLSearchParams(n.search),l=Number(o.get("page")),i=o.get("sortBy"),s=Array(Math.ceil(t/Number(a))).fill(0,0,t).map((function(e,t){return e+t+1})),m=function(e){i&&o.set("sortBy",i),o.set("page","".concat(e)),c.push({search:o.toString()})};if(l<=0)return r.a.createElement(d.a,{to:{pathname:"".concat(n.pathname),search:"?page=1&perPage=".concat(a)}});if(l>s.length)return r.a.createElement(d.a,{to:{pathname:"".concat(n.pathname),search:"?page=".concat(s.length,"&perPage=").concat(a)}});var u=function(e){return"prev"===e&&l>1?r.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-left",onClick:function(){return m(l-1)}}):"prev"===e?r.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-left Pagination__Button--disabled"}):"next"===e&&l<s.length?r.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-right",onClick:function(){return m(l+1)}}):"next"===e?r.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-right Pagination__Button--disabled"}):""};return r.a.createElement("nav",{className:"Pagination"},r.a.createElement("ul",{className:"Pagination__List"},r.a.createElement("li",{className:"Pagination__Item"},u("prev")),s.map((function(e){return r.a.createElement("li",{className:"Pagination__Item",key:e},r.a.createElement("button",{type:"button",className:M()({Pagination__Button:!0,"Pagination__Button--active":e===l}),onClick:function(){return m(e)}},e))})),r.a.createElement("li",{className:"Pagination__Item"},u("next"))))}),ee=function(e){var t=e.options,a=Object(d.g)(),c=Object(d.h)(),o=new URLSearchParams(c.search),l=o.get("perPage"),i=t.find((function(e){return e.name===l}))||t[0],s=Object(n.useState)(!1),m=Object(u.a)(s,2),_=m[0],f=m[1],g=function(){f(!1)};return Object(n.useEffect)((function(){_?document.documentElement.addEventListener("click",g):document.documentElement.removeEventListener("click",g)}),[_]),r.a.createElement("div",{className:M()({Select:!0,Select__Closest:!_})},r.a.createElement("label",{className:M()({"Select__Active--after":_})}),r.a.createElement("button",{type:"button",className:M()({Select__Active:!0,"Select__Active--opened":_}),onClick:function(){return f(!0)}},i.name,r.a.createElement("span",null,r.a.createElement("div",{className:M()({Select__Arrow:!0,"Select__Arrow--opened":_})}))),r.a.createElement("ul",{className:M()({Select__List:!0,"Select__List--opened":_})},t.map((function(e){return e.name!==i.name&&r.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.name,onClick:function(){return function(e){o.set("perPage",e.name),o.set("page","1"),a.push({search:o.toString()}),f(!1)}(e)}},e.name)}))))},te=(a(50),function(){return r.a.createElement("div",{className:"NotAvailable"},r.a.createElement("img",{src:"images/notAvailable.jpg",alt:"Goods not found",className:"NotAvailable__Image"}))}),ae=(a(51),function(e){var t=e.options,a=t.find((function(e){return e.isDefault}))||t[0],c=Object(d.g)(),o=Object(d.h)(),l=new URLSearchParams(o.search),i=Object(n.useMemo)((function(){return l.get("sortBy")||a}),[l,a]),s=Object(n.useMemo)((function(){return l.get("perPage")}),[l]),m=t.find((function(e){return e.type===i}))||a,_=Object(n.useState)(!1),f=Object(u.a)(_,2),g=f[0],p=f[1],v=function(){p(!1)};return Object(n.useEffect)((function(){g?document.documentElement.addEventListener("click",v):document.documentElement.removeEventListener("click",v)}),[g]),r.a.createElement("div",{className:M()({Select:!0,Select__Closest:!g})},r.a.createElement("label",{className:M()({"Select__Active--after":g})}),r.a.createElement("button",{type:"button",className:M()({Select__Active:!0,"Select__Active--opened":g}),onClick:function(){return p(!0)}},m.name,r.a.createElement("span",null,r.a.createElement("div",{className:M()({Select__Arrow:!0,"Select__Arrow--opened":g})}))),r.a.createElement("ul",{className:M()({Select__List:!0,"Select__List--opened":g})},t.map((function(e){return e.type!==m.type&&r.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.type,onClick:function(){return function(e){l.set("sortBy",e.type),l.set("page","1"),s&&l.set("perPage",s),c.push({search:l.toString()}),p(!1)}(e)}},e.name)}))))}),ne=function(e){var t,a,c=e.goods,o=Object(d.g)(),l=Object(d.h)(),i=new URLSearchParams(l.search),s=(null===(t=i.get("query"))||void 0===t?void 0:t.toLowerCase())||"",m=Number(i.get("page")),_=Object(u.a)(f,1)[0],g=Object(n.useMemo)((function(){return i.get("perPage")}),[i]),p=Number(_.name);f.find((function(e){return e.name===g}))?p=Number(null===(a=f.find((function(e){return e.name===g})))||void 0===a?void 0:a.name):(i.set("perPage",_.name),o.push({search:i.toString()}));var v=i.get("sortBy"),E=I.find((function(e){return e.type===v}))||I[1];E||(i.set("sortBy",I[1].type),o.push({search:i.toString()}));var b=Object(d.i)().section,N=B.find((function(e){return e.url===b})),h=Object(n.useMemo)((function(){return c.filter((function(e){return e.type===(null===N||void 0===N?void 0:N.type)}))}),[c,N]),C=Object(n.useMemo)((function(){return h.filter((function(e){return"".concat(e.name," ").concat(e.snippet).toLowerCase().includes(s)}))}),[s,h]),S=Object(n.useMemo)((function(){return function(e,t){return"number"===t.typeField?Object(P.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return(Number(e[t.field])-Number(a[t.field]))*n})):"string"===t.typeField?Object(P.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return String(e[t.field]).localeCompare(String(a[t.field]))*n})):e}(C,E)}),[C,E]),j=S.slice((m||1)*p-p,(m||1)*p);return r.a.createElement(r.a.Fragment,null,0===S.length&&r.a.createElement(te,null),S.length>=1&&r.a.createElement("section",{className:"section GoodsSection"},r.a.createElement(W.a,null,r.a.createElement("title",null,(null===N||void 0===N?void 0:N.title)||(null===N||void 0===N?void 0:N.name))),r.a.createElement("h1",{className:"GoodsSection__Heading"},(null===N||void 0===N?void 0:N.title)||(null===N||void 0===N?void 0:N.name)),r.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(h.length," models")),r.a.createElement("div",{className:"GoodsSection__Control"},h.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"GoodsSection__Select"},r.a.createElement("div",{className:"GoodsSection__SelectName"},"Sort by"),r.a.createElement(ae,{options:I})),r.a.createElement("div",{className:"GoodSection__Select"},r.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),r.a.createElement(ee,{options:f})))),r.a.createElement("div",{className:"GoodsSection__Container"},r.a.createElement(K,{goods:j})),C.length>p&&r.a.createElement("div",{className:"Pagination"},r.a.createElement(V,{qty:C.length,perPage:p}))))},re=(a(52),function(e){var t=e.goodInfo,a=e.goodDetail;return r.a.createElement("ul",{className:"GoodPage__InfoList"},E.map((function(e){return r.a.createElement("li",{className:"GoodPage__InfoItem"},r.a.createElement("p",{className:"GoodPage__InfoTitle"},e.name),r.a.createElement("p",{className:"GoodPage__InfoFeature"},t&&G(t,a,e.name,e.order)))})))}),ce=function(e){var t=e.goodInfo,a=e.goodDetail;return r.a.createElement("ul",{className:"GoodPage__SpecsList"},b.map((function(e){return r.a.createElement("li",{className:"GoodPage__SpecsItem"},r.a.createElement("p",{className:"GoodPage__SpecsTitle"},e.name),r.a.createElement("p",{className:"GoodPage__SpecsFeature"},t&&G(t,a,e.name,e.order)))})))},oe=(a(53),function(e){var t=e.goods,a=e.title,c=Object(n.useState)(0),o=Object(u.a)(c,2),l=o[0],i=o[1],s=Object(n.useRef)(null),m=Object(n.useState)(4),d=Object(u.a)(m,2),_=d[0],f=d[1],g=Object(n.useState)(272),p=Object(u.a)(g,2),v=p[0],E=p[1],b=t.length,N=Object(n.useState)(_),h=Object(u.a)(N,2),C=h[0],S=h[1],j=function(e){i(l+(v+16)*-e),S(C+e)};return Object(n.useEffect)((function(){var e,t=(null===(e=s.current)||void 0===e?void 0:e.offsetWidth)||0,a=Math.floor(t/v),n=(t-16*(a-1))/a;f(a),S(a),i(0),E(n)}),[s,v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Card__Container",ref:s},r.a.createElement("div",{className:"Card__Title-site"},r.a.createElement("div",null,r.a.createElement("h2",{className:"Card__Title"},a)),r.a.createElement("div",{className:"Card__Buttons"},r.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return j(-1)},disabled:C===_},r.a.createElement("div",{className:M()({"Card__Button--arrow-left":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":C===_})})),r.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return j(1)},disabled:C===b},r.a.createElement("div",{className:M()({"Card__Button--arrow-right":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":C===b})})))),r.a.createElement("ul",{className:"Card",style:{transform:"translateX(".concat(l,"px)")}},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"Card__Item",style:{width:"".concat(v,"px")}},r.a.createElement(Y,{good:e}))})))))}),le=(a(54),function(){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),ie=function(e){var t=e.goods,a=Object(d.i)().good,c=Object(d.j)(),o=Object(n.useState)(),l=Object(u.a)(o,2),i=l[0],_=l[1],f=Object(n.useState)(),g=Object(u.a)(f,2),p=g[0],v=g[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),N=b[0],h=b[1],C=Object(n.useState)(!1),S=Object(u.a)(C,2),j=S[0],y=S[1],P=Object(n.useState)(!1),I=Object(u.a)(P,2),G=I[0],L=I[1],w=Object(n.useState)(0),x=Object(u.a)(w,2),A=x[0],R=x[1],T=t.find((function(e){return i&&e.id===i.id})),H=k(t,"hotPrice",""),q=Object(n.useContext)(z).cart,J=Object(n.useContext)(F),Z=J.isFavorite,$=J.addFavorite,Q=J.removeFavorite,Y=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),h(""),e.prev=2,e.next=5,O(t);case 5:a=e.sent,n=Object(D.a)({},a),_(n),L(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),h(String(e.t0));case 14:y(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(t.length){var e=t.find((function(e){return e.id===c.params.good}));v(e)}}),[t,c.params.good]),Object(n.useEffect)((function(){Y(a)}),[a]);var K=Object(n.useMemo)((function(){return p&&p.discount>0?p.price-p.price/100*p.discount:p&&p.price}),[p]);if("undefined"===c.params.section&&t&&T){var V=B.find((function(e){return e.type===T.type}));if(V)return r.a.createElement(d.a,{to:"/".concat(V.url,"/").concat(c.params.good)})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},N&&r.a.createElement("div",null,N),j&&r.a.createElement("div",{className:"GoodPage__Loading"},r.a.createElement(le,null)),j&&G&&"",i&&r.a.createElement("article",{className:"GoodPage"},r.a.createElement(W.a,null,r.a.createElement("title",null,i.name)),r.a.createElement("h1",{className:"GoodPage__Heading"},i.name),r.a.createElement("div",{className:"GoodPage__Content"},r.a.createElement("div",{className:"GoodPage__Column"},r.a.createElement("section",{className:"GoodPage__Images"},r.a.createElement("ul",{className:"GoodPage__ImageList"},i.images.map((function(e,t){return r.a.createElement("li",{className:M()({"GoodPage__Image--current":t===A},"GoodPage__ImageItem"),key:e},r.a.createElement("a",{href:"./#",onClick:function(e){return function(e,t){e.preventDefault(),R(t)}(e,t)}},r.a.createElement("img",{src:e,alt:i.name,className:"GoodPage__Image"})))}))),r.a.createElement("img",{src:i.images[A],alt:i.name,className:"GoodPage__ImageBig"}))),r.a.createElement("div",{className:"GoodPage__Column"},r.a.createElement("span",{className:"GoodPage__Id"},"ID:"," ",p&&p.id),r.a.createElement("section",{className:"GoodPage__NarrowBlock"},r.a.createElement("div",{className:"GoodPage__Price"},r.a.createElement("span",{className:"GoodPage__Price--actual"},K),p&&p.discount>0&&r.a.createElement("span",{className:"GoodPage__Price--full"},p.price)),r.a.createElement("div",{className:"GoodPage__Buttons"},r.a.createElement("div",{className:"GoodPage__Buttons--main"},r.a.createElement(X,{text:q.some((function(e){return e.id===c.params.good}))?"Remove from cart":"Add to cart",selected:q.some((function(e){return e.id===c.params.good})),id:c.params.good})),r.a.createElement("div",{className:"GoodPage__Buttons--favorites"},r.a.createElement("label",{onClick:function(){var e;Z(e=a)?Q(e):$(e)}},r.a.createElement(U,{name:Z(a)?"favorites-filled":"favorites",border:!0,inActive:!1}))))),r.a.createElement("section",{className:"GoodPage__Info"},r.a.createElement(re,{goodDetail:i,goodInfo:p}))),r.a.createElement("div",{className:"GoodPage__Column"},r.a.createElement("section",{className:"GoodPage__Description"},r.a.createElement("h2",{className:"GoodPage__SubHeading"},"About"),p&&p.snippet,r.a.createElement("div",{className:"GoodPage__MoreInfo"},r.a.createElement("h3",{className:"GoodPage__MoreInfo--SubHeading"},"More info"),i&&i.description))),r.a.createElement("div",{className:"GoodPage__Column"},r.a.createElement("section",{className:"GoodPage__TechSpecs"},r.a.createElement("h2",{className:"GoodPage__SubHeading"},"Tech specs"),r.a.createElement("ul",null,r.a.createElement(ce,{goodDetail:i,goodInfo:p}))))))),r.a.createElement(oe,{goods:H,title:"You may also like"}))},se=(a(55),function(){var e=_.map((function(e,t){return Object(D.a)(Object(D.a)({},e),{},{position:t+1})})),t=Object(n.useState)(1),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),i=Object(u.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)(1040),f=Object(u.a)(d,2),g=f[0],p=f[1],v=Object(n.useRef)(null),E=function(t){var a=(g+16)*-t;return c===e.length&&1===t?(o(1),void m(0)):1===c&&-1===t?(o(e.length),void m((g+16)*t*(e.length-1))):(o(c+t),void m(s+a))};return Object(n.useEffect)((function(){var e,t=(null===(e=v.current)||void 0===e?void 0:e.offsetWidth)||0;p(t-64-32)}),[v]),r.a.createElement("div",{className:"Banner",ref:v},r.a.createElement("div",{className:"Banner__Slider"},r.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return E(-1)}},r.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-left"})),r.a.createElement("div",{className:"Banner__Container"},r.a.createElement("ul",{className:"Banner__Content",style:{transform:"translateX(".concat(s,"px)")}},e.map((function(e){return r.a.createElement("li",{className:"Banner__Content-image",key:e.position},r.a.createElement("img",{src:e.path,alt:e.alt,style:{width:"".concat(g,"px")},className:"Banner__Image--current"}))})))),r.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return E(1)}},r.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-right"}))),r.a.createElement("div",{className:"Banner__Position-container"},e.map((function(e){return r.a.createElement("span",{key:e.position,className:M()({"Banner__Position--active":e.position===c},"Banner__Position"),onClick:function(){return function(e){if(1===e)return m(0),void o(1);m(-1*((e-1)*g+16*(e-1))),o(e)}(e.position)}})}))))}),me=(a(56),function(e){var t=e.goods;return r.a.createElement("div",{className:"Category"},r.a.createElement("h2",{className:"Category__Title"},"Shop by category"),r.a.createElement("div",{className:"Category__Container"},r.a.createElement("ul",{className:"Category__List"},B.map((function(e){return r.a.createElement("li",{className:"Category__Item",key:e.name},r.a.createElement(l.b,{to:e.url,className:"Category__Link"},r.a.createElement("div",{className:"Category__ImageContainer"},r.a.createElement("img",{src:e.imgUrl,alt:e.title,className:"Category__Image"})),r.a.createElement("div",{className:"Category__Info"},r.a.createElement("h3",{className:"Category__InfoType Category__Paragraph"},e.title),r.a.createElement("p",{className:"Category__InfoCount Category__Paragraph"},t.filter((function(t){return t.type===e.type})).length," models"))))})))))}),ue=function(e){var t=e.goods,a=k(t,g,""),n=k(t,v,"");return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,null,r.a.createElement("title",null,"Phone Store")),r.a.createElement(se,null),r.a.createElement(oe,{goods:a,title:"Hot prices"}),r.a.createElement(me,{goods:t}),r.a.createElement(oe,{goods:n,title:"Brand new models"}))},de=function(e){var t=e.goods,a=Object(d.g)(),c=Object(d.h)(),o=new URLSearchParams(c.search),l=Object(n.useContext)(F).favorites,i=Object(n.useMemo)((function(){return Object(P.a)(t).filter((function(e){return l.some((function(t){return t===e.id}))}))}),[l,t]),s=Object(u.a)(f,1)[0],m=Number(o.get("page")),_=Object(n.useMemo)((function(){return o.get("perPage")}),[o]),g=Number(s.name);f.find((function(e){return e.name===_}))?g=Number(null===s||void 0===s?void 0:s.name):(o.set("perPage",s.name),a.push({search:o.toString()}));var p=i.slice((m||1)*g-g,(m||1)*g);return r.a.createElement("section",{className:"section GoodsSection"},r.a.createElement(W.a,null,r.a.createElement("title",null,"Favorite Goods")),r.a.createElement("h1",{className:"GoodsSection__Heading"},"Favorite Goods"),r.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(l.length," items")),r.a.createElement("div",{className:"GoodsSection__Control"},i.length>1&&r.a.createElement("div",{className:"GoodSection__Select"},r.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),r.a.createElement(ee,{options:f}))),r.a.createElement(K,{goods:p}),i.length>g&&r.a.createElement("div",{className:"Pagination"},r.a.createElement(V,{qty:i.length,perPage:g})))},_e=(a(57),function(){return r.a.createElement("div",{className:"Checkout"},r.a.createElement("h1",{className:"Checkout__Title"},"Thank you for purchase"),r.a.createElement("div",{className:"Checkout__BackToShop"},r.a.createElement(l.b,{className:"Checkout__Link",to:"/"},"Go to shop")))}),fe=(a(58),r.a.createContext({goods:[],setSitemap:function(){}})),ge=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],l=c[1];return r.a.createElement(fe.Provider,{value:{goods:o,setSitemap:l}},t)},pe=function(){var e,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(n.useContext)(fe).goods,s=Object(n.useCallback)((function(){if(i.length>0){var e=[].concat(Object(P.a)(L),Object(P.a)(w),Object(P.a)(B.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{children:i.filter((function(t){return t.type===e.type})).map((function(e){return{name:e.name,title:e.name,url:e.id}}))})}))));o(e)}}),[i]);Object(n.useEffect)((function(){s()}),[i,s]);var m,_=Object(d.j)(),f=c.find((function(e){return e.url===_.params.levelOne})),g=null;f&&_.params.levelTwo&&(g=null===(m=f.children)||void 0===m?void 0:m.find((function(e){return e.url===_.params.levelTwo})));return r.a.createElement("div",{className:"Breadcrumbs"},r.a.createElement("ul",{className:"Breadcrumbs__List"},r.a.createElement("li",{className:"Breadcrumbs__Item"},r.a.createElement(l.b,{to:"/",className:"Breadcrumbs__Link"},r.a.createElement(U,{name:"home",size:1,border:!1,inActive:!1}))),_.params.levelOne&&r.a.createElement("li",{className:"Breadcrumbs__Item"},r.a.createElement(l.b,{to:"/".concat(null===f||void 0===f?void 0:f.url)||!1,className:"Breadcrumbs__Link"},null===f||void 0===f?void 0:f.title)),g&&r.a.createElement("li",{className:"Breadcrumbs__Item"},null===(e=g)||void 0===e?void 0:e.title)))},ve=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),i=l[0],_=l[1],f=Object(n.useState)(!1),g=Object(u.a)(f,2),p=g[0],v=g[1],E=Object(n.useState)(!1),b=Object(u.a)(E,2),N=b[0],h=b[1],C=Object(n.useContext)(fe).setSitemap,j=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),_(""),e.prev=2,e.next=5,S();case 5:t=e.sent,a=t.filter((function(e){return e.type})),c(a),C(a),h(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),_(String(e.t0));case 15:v(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null,r.a.createElement(A,null,r.a.createElement($,null),r.a.createElement("div",{className:"container"},i&&r.a.createElement("div",null,i),p&&N&&"",r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0}),r.a.createElement(d.b,{path:"/:levelOne?/:levelTwo?"},r.a.createElement(pe,null))),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,render:function(){return r.a.createElement(ue,{goods:a})}}),r.a.createElement(d.b,{path:"/favorites",render:function(){return r.a.createElement(de,{goods:a})}}),r.a.createElement(d.b,{path:"/cart",exact:!0,render:function(){return r.a.createElement(J,{goods:a})}}),r.a.createElement(d.b,{path:"/checkout",exact:!0,render:function(){return r.a.createElement(_e,null)}}),r.a.createElement(d.b,{path:"/:section",exact:!0,render:function(){return r.a.createElement(ne,{goods:a})}}),r.a.createElement(d.b,{path:"/:section/:good",exact:!0,render:function(){return r.a.createElement(ie,{goods:a})}}))))),r.a.createElement(Q,null))};o.a.render(r.a.createElement(ge,null,r.a.createElement(l.a,null,r.a.createElement(ve,null))),document.getElementById("root"))}]),[[29,1,2]]]);
//# sourceMappingURL=main.7a69c425.chunk.js.map