{"version":3,"sources":["store/loading.ts","store/error.ts","store/goods.ts","store/favorites.ts","store/cart.ts","helpers/api.ts","store/index.ts","components/Nav/Nav.tsx","helpers/config.ts","helpers/sort.ts","helpers/sliderFilter.ts","helpers/techInfo.ts","helpers/sitemap.ts","components/Search/Search.tsx","helpers/debounce.ts","components/Icon/Icon.tsx","components/NavSliding/NavSliding.tsx","components/Header/Header.tsx","components/BackToTop/BackToTop.tsx","components/Footer/Footer.tsx","components/Buttons/PrimaryButton.tsx","components/GoodsList/GoodItem.tsx","components/GoodsList/GoodsList.tsx","components/Pagination/Pagination.tsx","components/Pagination/SelectPerPage.tsx","components/NotAvailable/NotAvailable.tsx","components/Select/Select.tsx","components/NotFound/NotFound.tsx","components/GoodsSection/GoodsSection.tsx","components/GoodPage/GoodTechInfo.tsx","components/GoodPage/GoodSpecsInfo.tsx","components/CardSlider/CardSlider.tsx","components/LoadSpinner/LoadSpinner.tsx","components/GoodPage/GoodPage.tsx","components/Banner/Banner.tsx","components/ShopCategory/ShopCategory.tsx","components/HomePage/HomePage.tsx","components/Favorites/Favorites.tsx","components/Cart/Cart.tsx","components/Checkout/Checkout.tsx","components/Breadcrumbs/Breadcrumbs.tsx","App.tsx","index.tsx"],"names":["loadingState","isLoading","isLoaded","reducer","state","action","type","errorMessage","goods","addFavorite","favorite","removeFavorite","id","initFavorites","localStorage","getItem","JSON","parse","favorites","filter","deleteCartGoods","changeCount","path","initCart","cart","count","good","map","info","API_URL","getData","url","a","fetch","response","json","fetchGoods","phones","fetchGoodDetail","goodDetail","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","loading","loadingReducer","errordReducer","goodsReducer","favoritesReducer","cartReducer","getGoods","getFavorites","getCartGoods","store","createStore","applyMiddleware","thunk","Nav","links","className","name","exact","external","key","href","target","rel","to","activeClassName","Banners","alt","imgUrl","imgJXR","imgJP2","imgWEBP","PER_PAGE_SETTINGS","SLIDER_FILTER_TYPE","ITEM_TECH_INFO","order","ITEM_TECH_SPECS","SORT_TYPES","field","typeField","isReverse","isDefault","sliderFilter","cards","filterType","card","price","discount","sort","b","aDiscountPrice","slice","Math","random","age","techInfo","goodInfo","param","value","screen","ram","capacity","display","screenResolution","hardware","cpu","camera","primary","zoom","connectivity","cell","SECTION_LINKS","title","STATIC_PAGES","SERVICE_PAGES","FOOTER_LINKS","Search","history","useHistory","location","useLocation","section","useParams","isSection","some","item","searchParams","URLSearchParams","search","query","get","useState","visibleQuery","setVisibleQuery","searchInput","useRef","useEffect","current","focus","updateQuery","useCallback","f","delay","timerId","clearTimeout","args","setTimeout","debounce","actualQuery","delete","set","push","toString","onSubmit","e","preventDefault","htmlFor","placeholder","ref","onChange","cn","Search__Button","length","onClick","Icon","tag","size","border","inActive","Icon__Border","Number","NavSliding","isOpen","setIsOpen","useSelector","show","Header","src","component","BackToTop","isVisible","setIsVisible","document","addEventListener","documentElement","getBoundingClientRect","top","scrollTo","Footer","PrimaryButton","dispatch","useDispatch","status","Button","Button__Primary","addCartGoods","GoodItem","isFavorite","useMemo","goodId","srcSet","selectedGood","GoodsList","Pagination","qty","perPage","currentPage","pathname","currentSort","pages","Array","ceil","fill","p","i","handleClick","page","getArrow","Pagination__Button","SelectPerPage","options","currentPerPage","currentOption","find","option","clickSubscribe","removeEventListener","Select","Select__Closest","Select__Active","Select__Arrow","Select__List","data-value","chooseSelectValue","NotAvailable","defaultSortType","currentSortType","NotFound","GoodsSection","toLowerCase","defaultPerPage","perPageParam","sortParam","sortType","sectionProp","link","filteredGoods","searchedGoods","snippet","includes","sortedGoods","direction","String","localeCompare","sortBy","paginatedGoods","Helmet","content","GoodTechInfo","GoodSpecsInfo","CardSlider","left","setLeft","myWidth","cardsOnOneMoment","setCardsOnOneMoment","cardWidth","setCardWidth","cardsLength","position","setPosition","handleSlider","containerWidth","offsetWidth","visibleCardsQTY","floor","visibleCardWidth","disabled","style","transform","width","LoadSpinner","GoodPage","match","useRouteMatch","setGoodDetail","setGoodInfo","setErrorMessage","setIsLoading","setIsLoaded","activeImageIndex","setActiveImageIndex","currentType","phone","sliderItems","loadGoodDetail","data","preparedGoodDetail","goodDetailInfo","params","typeParam","images","image","handleImages","description","BannerSlider","bannerImages","currentPosition","setcurrentPosition","imageWidth","setImageWidth","handleSlide","newLeftPosition","buttonWidth","gapWidth","chooseImages","ShopCategory","HomePage","hotPrices","highPrices","Favorites","favoritesProducts","product","Cart","prod","goodForBuy","setGoodForBuy","checkoutHeight","totalPrice","reduce","accum","currentValue","priceWithoutDiscount","height","imageUrl","Boolean","Checkout","Breadcrumbs","sitemap","setSitemap","getSitemap","generatedSitemap","children","levelOne","levelTwo","App","setItem","stringify","preparedData","Root","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0cce0537.chunk.js","sourcesContent":["import { AnyAction } from 'redux';\n\nconst START_LOADING = 'START_LOADING';\nconst FINISH_LOADING = 'FINISH_LOADING';\nconst SET_LOADED = 'SET_LOADED';\n\ntype LoadingState = {\n  isLoading: boolean;\n  isLoaded: boolean;\n};\n\nconst loadingState: LoadingState = {\n  isLoading: false,\n  isLoaded: false,\n};\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const finishLoading = () => ({ type: FINISH_LOADING });\nexport const setLoaded = () => ({ type: SET_LOADED });\n\nconst reducer = (state = loadingState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case FINISH_LOADING:\n      return {\n        ...state,\n        isLoading: false,\n      };\n\n    case SET_LOADED:\n      return {\n        ...state,\n        isLoaded: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_ERROR_MESSAGE = 'SET_ERROR_MESSAGE';\n\ntype SetErrorMessage = Action<typeof SET_ERROR_MESSAGE> & { errorMessage: string };\n\nexport const setErrorMessage = (errorMessage: string) => ({\n  type: SET_ERROR_MESSAGE,\n  errorMessage,\n});\n\nconst reducer = (errorMessage = '', action: SetErrorMessage) => {\n  switch (action.type) {\n    case SET_ERROR_MESSAGE:\n      return action.errorMessage;\n\n    default:\n      return errorMessage;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_GOODS = 'SET_GOODS';\n\ntype SetPost = Action<typeof SET_GOODS> & { goods: Good[] };\n\nexport const setGoods = (goods: Good[]): SetPost => ({\n  type: SET_GOODS,\n  goods,\n});\n\nconst reducer = (goods = [], action: SetPost) => {\n  switch (action.type) {\n    case SET_GOODS:\n      return action.goods;\n\n    default:\n      return goods;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_FAVORITE = 'SET_FAVORITE';\nconst REMOVE_FAVORITE = 'REMOVE_FAVORITE';\n\ntype SetFavorite = Action<typeof SET_FAVORITE> & { favorite: string };\ntype RemoveFavorite = Action<typeof REMOVE_FAVORITE> & { id: string };\ntype PossibleAction = SetFavorite | RemoveFavorite;\n\nexport const addFavorite = (favorite: string): SetFavorite => ({\n  type: SET_FAVORITE,\n  favorite,\n});\n\nexport const removeFavorite = (id: string): RemoveFavorite => ({\n  type: REMOVE_FAVORITE,\n  id,\n});\n\nlet initFavorites: string[] = [];\n\nif (localStorage.getItem('favoriteProducts')) {\n  initFavorites = [...JSON.parse(localStorage.getItem('favoriteProducts') || '')];\n}\n\nconst reducer = (favorites = initFavorites, action: PossibleAction) => {\n  switch (action.type) {\n    case SET_FAVORITE:\n      return [...favorites, action.favorite];\n\n    case REMOVE_FAVORITE:\n      return favorites.filter(id => id !== action.id);\n\n    default:\n      return favorites;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_CART_GOODS = 'SET_CART_GOODS';\nconst CHANGE_COUNT = 'CHANGE_COUNT';\nconst CLEAR_CART = 'CLEAR_CART';\nconst SET_FROM_LOCALSTORAGE = 'SET_FROM_LOCALSTORAGE';\nconst DELETE_GOODS_FROM_CART = 'DELETE_GOODS_FROM_CART';\n\ntype addCartGoods = Action<typeof SET_CART_GOODS> & { id: string };\ntype deleteCartGoods = Action<typeof DELETE_GOODS_FROM_CART> & { id: string };\ntype changeCount = Action<typeof CHANGE_COUNT> & {\n  id: string;\n  path: number;\n};\ntype clearCart = Action<typeof CLEAR_CART>;\ntype setFromLocalStorage = Action<typeof SET_FROM_LOCALSTORAGE> & {\n  info: CartGood[];\n};\n\nexport const addCartGoods = (id: string): addCartGoods => ({\n  type: SET_CART_GOODS,\n  id,\n});\n\nexport const deleteCartGoods = (id: string): deleteCartGoods => ({\n  type: DELETE_GOODS_FROM_CART,\n  id,\n})\n\nexport const changeCount = (id: string, path: number): changeCount => ({\n  type: CHANGE_COUNT,\n  id,\n  path,\n});\n\nexport const setFromLS = (info: CartGood[]) => ({\n  type: SET_FROM_LOCALSTORAGE,\n  info,\n});\n\nexport const clearCart = (): clearCart => ({ type: CLEAR_CART });\n\ntype PossibleAction = addCartGoods\n  | changeCount\n  | clearCart\n  | setFromLocalStorage\n  | deleteCartGoods;\n\nlet initCart: CartGood[] = [];\n\nif (localStorage.getItem('cartItem')) {\n  initCart = [...JSON.parse(localStorage.getItem('cartItem') || '')];\n}\n\nconst reducer = (cart = initCart, action: PossibleAction) => {\n  switch (action.type) {\n    case SET_CART_GOODS:\n      return [\n        ...cart,\n        {\n          id: action.id,\n          count: 1,\n        },\n      ];\n\n    case DELETE_GOODS_FROM_CART:\n      return cart.filter(good => good.id !== action.id)\n\n    case CHANGE_COUNT:\n      return cart.map(good => ({\n        ...good,\n        count: action.id === good.id\n          ? good.count + action.path\n          : good.count,\n      }));\n\n    case CLEAR_CART:\n      return [];\n\n    case SET_FROM_LOCALSTORAGE:\n      return action.info;\n\n    default:\n      return cart;\n  }\n};\n\nexport default reducer;\n","const API_URL = 'https://mate-academy.github.io/react_phone-catalog/api';\n\nexport async function getData<T>(url: string): Promise<T[]> {\n  const response = await fetch(url);\n  const json = await response.json();\n\n  return json;\n}\n\nexport async function fetchGoods() {\n  const phones = await getData<Good>(`${API_URL}/products.json`);\n\n  return phones;\n}\n\nexport async function fetchGoodDetail(id: string) {\n  const response = await fetch(`${API_URL}/products/${id}.json`);\n  const goodDetail = await response.json();\n\n  return goodDetail;\n}\n","import { createStore, compose, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Dispatch } from 'react';\n\nimport loadingReducer, { finishLoading, startLoading, setLoaded } from './loading';\n\nimport errordReducer, { setErrorMessage } from './error';\nimport goodsReducer, { setGoods } from './goods';\nimport favoritesReducer, { addFavorite, removeFavorite } from './favorites';\nimport cartReducer from './cart';\nimport { fetchGoods } from '../helpers/api';\n\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  loading: loadingReducer,\n  errorMessage: errordReducer,\n  goods: goodsReducer,\n  favorites: favoritesReducer,\n  cart: cartReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport const isLoading = (state: RootState) => state.loading.isLoading;\nexport const isLoaded = (state: RootState) => state.loading.isLoaded;\nexport const getError = (state: RootState) => state.errorMessage;\nexport const getGoods = (state: RootState) => state.goods;\nexport const getFavorites = (state: RootState) => state.favorites;\nexport const getCartGoods = (state: RootState) => state.cart;\nexport { addFavorite, removeFavorite };\n\nexport const loadGoods = () => {\n  return async (dispatch: Dispatch<any>) => {\n    dispatch(startLoading());\n\n    try {\n      const data = await fetchGoods();\n      const preparedData = data.filter(product => product.type);\n\n      dispatch(setGoods(preparedData));\n      dispatch(setLoaded());\n    } catch (error) {\n      dispatch(setErrorMessage(`Error occurred when loading data: ${error}`));\n    }\n\n    dispatch(finishLoading());\n  };\n};\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk)),\n);\n\nexport default store;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Nav.scss';\n\ninterface Props {\n  links: Link[];\n  className?: string;\n}\n\nexport const Nav: React.FC<Props> = ({ links, className }) => (\n  <nav className={`Nav ${className || ''}`}>\n    <ul className=\"Nav__List\">\n      {links.map(({ name, url, exact, external }) => (\n        <li className=\"Nav__Item\" key={name}>\n          {external && (\n            <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"Nav__Link\">\n              {name}\n            </a>\n          )}\n          {!external && (\n            <NavLink\n              to={`/${url}`}\n              exact={exact}\n              className=\"Nav__Link\"\n              activeClassName=\"Nav__Link--active\"\n            >\n              {name}\n            </NavLink>\n          )}\n        </li>\n      ))}\n    </ul>\n  </nav>\n);\n","export const Banners: Banner[] = [\n  {\n    alt: 'First banner',\n    imgUrl: './images/jpeg/banner.jpg',\n    imgJXR: './images/jxr/banner.jxr',\n    imgJP2: './images/jp2/banner.jp2',\n    imgWEBP: './images/webp/banner.webp',\n  },\n  {\n    alt: 'Second banner',\n    imgUrl: './images/jpeg/banner2.jpg',\n    imgJXR: './images/jxr/banner2.jxr',\n    imgJP2: './images/jp2/banner2.jp2',\n    imgWEBP: './images/webp/banner2.webp',\n  },\n  {\n    alt: 'Third banner',\n    imgUrl: './images/jpeg/banner3.jpg',\n    imgJXR: './images/jxr/banner3.jxr',\n    imgJP2: './images/jp2/banner3.jp2',\n    imgWEBP: './images/webp/banner3.webp',\n  },\n];\n\nexport const PER_PAGE_SETTINGS = [\n  {\n    name: '4',\n  },\n  {\n    name: '8',\n  },\n  {\n    name: '12',\n  },\n  {\n    name: '16',\n  },\n];\n\nexport const SLIDER_FILTER_TYPE = {\n  hotPrice: 'hotPrice',\n  alsoLike: 'alsoLike',\n  newModels: 'newModels',\n};\n\nexport const ITEM_TECH_INFO: ItemTechType[] = [\n  {\n    name: 'Screen',\n    order: 'info',\n  },\n  {\n    name: 'Resolution',\n    order: 'detail',\n  },\n  {\n    name: 'Processor',\n    order: 'detail',\n  },\n  {\n    name: 'RAM',\n    order: 'info',\n  },\n];\n\nexport const ITEM_TECH_SPECS: ItemTechType[] = [\n  {\n    name: 'Screen',\n    order: 'info',\n  },\n  {\n    name: 'Resolution',\n    order: 'detail',\n  },\n  {\n    name: 'Processor',\n    order: 'detail',\n  },\n  {\n    name: 'RAM',\n    order: 'info',\n  },\n  {\n    name: 'Built in memory',\n    order: 'info',\n  },\n  {\n    name: 'Camera',\n    order: 'detail',\n  },\n  {\n    name: 'Zoom',\n    order: 'detail',\n  },\n  {\n    name: 'Cell',\n    order: 'detail',\n  },\n];\n","export const SORT_TYPES: SortType[] = [\n  {\n    name: 'Price: Low to High',\n    field: 'price',\n    typeField: 'number',\n    type: 'cheap',\n    isReverse: false,\n  },\n  {\n    name: 'Price: High to Low',\n    field: 'price',\n    typeField: 'number',\n    type: 'expensive',\n    isReverse: true,\n    isDefault: true,\n  },\n  {\n    name: 'Goods: A to Z',\n    field: 'name',\n    typeField: 'string',\n    type: 'alphabet',\n    isReverse: false,\n  },\n  {\n    name: 'Goods: Z to A',\n    field: 'name',\n    typeField: 'string',\n    type: 'betalpha',\n    isReverse: true,\n  },\n  {\n    name: 'Newest',\n    field: 'age',\n    typeField: 'number',\n    type: 'newest',\n    isReverse: false,\n  },\n  {\n    name: 'Oldest',\n    field: 'age',\n    typeField: 'number',\n    type: 'oldest',\n    isReverse: true,\n  },\n];\n\nexport const sortBy = (goods: Good[], sortType: SortType) => {\n  if (sortType.typeField === 'number') {\n    const sortedGoods = [...goods].sort((a, b) => {\n      const direction = sortType.isReverse ? -1 : 1;\n\n      return (Number(a[sortType.field]) - Number(b[sortType.field])) * direction;\n    });\n\n    return sortedGoods;\n  }\n\n  if (sortType.typeField === 'string') {\n    return [...goods].sort((a, b) => {\n      const direction = sortType.isReverse ? -1 : 1;\n\n      return (String(a[sortType.field]).localeCompare(String(b[sortType.field]))) * direction;\n    });\n  }\n\n  return goods;\n};\n","import { SLIDER_FILTER_TYPE } from './config';\n\nexport const sliderFilter = (cards: Good[], filterType: string, id: string) => {\n  switch (filterType) {\n    case SLIDER_FILTER_TYPE.hotPrice:\n      return [...cards]\n        .filter(card => card.price && card.discount)\n        .sort((a: Good, b: Good): number => {\n          const aDiscountPrice = (a.discount / 100) * a.price;\n          const bDiscountPrice = (b.discount / 100) * b.price;\n\n          return bDiscountPrice - aDiscountPrice;\n        })\n        .slice(0, 8);\n\n    case SLIDER_FILTER_TYPE.alsoLike:\n      return [...cards]\n        .sort((): number => {\n          return Math.random() - 0.5;\n        })\n        .filter(card => card.id !== id)\n        .slice(0, 8);\n\n    case SLIDER_FILTER_TYPE.newModels:\n      return [...cards]\n        .sort((a: Good, b: Good): number => {\n          const aDiscountPrice = a.age;\n          const bDiscountPrice = b.age;\n\n          return aDiscountPrice - bDiscountPrice;\n        })\n        .slice(0, 8);\n\n    default:\n      return cards;\n  }\n};\n","export const techInfo = (goodInfo: Good, goodDetail: GoodDetail, param: string, order: string) => {\n  let value = '';\n\n  if (order === 'info') {\n    switch (param) {\n      case 'Screen':\n        value = goodInfo.screen;\n        break;\n\n      case 'RAM':\n        value = goodInfo.ram;\n        break;\n\n      case 'Built in memory':\n        value = goodInfo.capacity;\n    }\n  }\n\n  if (order === 'detail') {\n    switch (param) {\n      case 'Resolution':\n        value = goodDetail.display.screenResolution;\n        break;\n\n      case 'Processor':\n        value = goodDetail.hardware.cpu;\n        break;\n\n      case 'Camera':\n        value = goodDetail.camera.primary;\n        break;\n\n      case 'Zoom':\n        value = goodDetail.camera.zoom;\n        break;\n\n      case 'Cell':\n        value = goodDetail.connectivity.cell;\n        break;\n    }\n  }\n\n  return value ? value : 'No info'\n}\n","export const SECTION_LINKS: Link[] = [\n  {\n    name: 'Phones',\n    title: 'Mobile Phones',\n    url: 'phone',\n    type: 'phone',\n    imgUrl: './images/png/category/phones.png',\n    imgJXR: './images/jxr/category/phones.jxr',\n    imgJP2: './images/jp2/category/phones.jp2',\n    imgWEBP: './images/webp/category/phones.webp',\n  },\n  {\n    name: 'Tablets',\n    title: 'Tablets',\n    url: 'tablet',\n    type: 'tablet',\n    imgUrl: './images/png/category/tablets.png',\n    imgJXR: './images/jxr/category/tablets.jxr',\n    imgJP2: './images/jp2/category/tablets.jp2',\n    imgWEBP: './images/webp/category/tablets.webp',\n  },\n  {\n    name: 'Accessories',\n    title: 'Phone and Tablet Accessories',\n    url: 'accessories',\n    type: 'accessories',\n    imgUrl: './images/png/category/accessoires.png',\n    imgJXR: './images/jxr/category/accessoires.jxr',\n    imgJP2: './images/jp2/category/accessoires.jp2',\n    imgWEBP: './images/webp/category/accessoires.webp',\n  },\n];\n\nexport const STATIC_PAGES: Link[] = [\n  {\n    name: 'Phone Store',\n    title: 'Phone Store',\n    url: '/',\n  },\n  {\n    name: 'GitHub',\n    url: 'http://localhost:3000/#/phones/https://github.com/fe-feb20-team3',\n    external: true,\n  },\n];\n\nexport const SERVICE_PAGES: Link[] = [\n  {\n    name: 'Cart',\n    title: 'Cart',\n    url: 'cart',\n  },\n  {\n    name: 'Favorites',\n    title: 'Favorite Products',\n    url: 'favorites',\n  },\n];\n\nexport const FOOTER_LINKS: Link[] = [\n  {\n    name: 'Github',\n    url: 'https://github.com/fe-feb20-team3',\n    external: true,\n  },\n  {\n    name: 'Contacts',\n    url: 'contacts',\n  },\n  {\n    name: 'Rights',\n    url: 'rights',\n  },\n];\n","import React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\nimport cn from 'classnames';\n\nimport './Search.scss';\nimport { debounce, SECTION_LINKS } from '../../helpers';\n\nexport const Search = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const { section } = useParams();\n  const isSection = SECTION_LINKS.some(item => item.url === section);\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n  const [visibleQuery, setVisibleQuery] = useState(query);\n\n  const searchInput = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (query === '' && searchInput.current) {\n      searchInput.current.focus();\n    }\n  }, [query]);\n\n  const updateQuery = useCallback(debounce(\n    (actualQuery: string): void => {\n      if (actualQuery === '') {\n        searchParams.delete('query');\n      } else {\n        searchParams.set('query', actualQuery);\n      }\n\n      searchParams.set('page', '1');\n      history.push({ search: searchParams.toString() });\n    },\n    1000,\n  ), []);\n\n  const handleQueryUpdate = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = e.target;\n\n    updateQuery(value);\n    setVisibleQuery(value);\n  };\n\n  const clearInput = () => {\n    searchParams.delete('query');\n    history.push({ search: searchParams.toString() });\n    updateQuery('');\n    setVisibleQuery('');\n  };\n\n  return (\n    <div className=\"Search\">\n      {isSection && (\n        <form action=\"./\" className=\"Search__Form\" onSubmit={e => e.preventDefault()}>\n          <label htmlFor=\"search-field\" className=\"Search__Label\">\n            <input\n              id=\"search-field\"\n              type=\"text\"\n              className=\"Search__Input\"\n              value={visibleQuery}\n              placeholder=\"Search in phones...\"\n              ref={searchInput}\n              onChange={handleQueryUpdate}\n            />\n            <button\n              type=\"button\"\n              className={cn({\n                Search__Button: true,\n                'Search__Button--clear': visibleQuery.length > 0,\n              })}\n              onClick={clearInput}\n            />\n          </label>\n        </form>\n      )}\n    </div>\n  );\n};\n","export const debounce = (f: (value: string) => void, delay: number) => {\n  let timerId: number;\n\n  return (...args: any) => {\n    clearTimeout(timerId);\n    timerId = window.setTimeout(f, delay, ...args);\n  };\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './Icon.scss';\n\ninterface Props {\n  name: string;\n  tag?: number;\n  size?: number;\n  border: boolean;\n  inActive: boolean;\n}\n\nexport const Icon: React.FC<Props> = ({\n  name,\n  tag,\n  size = 0,\n  border,\n  inActive,\n}) => (\n  <div\n    className={cn(`Icon Icon--size${size}`, {\n      Icon__Border: border,\n    })}\n  >\n    <div className={\n      cn(\n        'Icon__Image',\n        `Icon__Image--${name}`,\n        `Icon__Image--size${size}`,\n        {\n          'Icon__Image--inactive': inActive,\n        },\n      )\n    }\n    />\n    {Number(tag) > 0 && (\n      <div className={`Icon__Tag Icon__Tag--size${size}`}>\n        {tag}\n      </div>\n    )}\n  </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport cn from 'classnames';\n\nimport './NavSliding.scss';\nimport { getFavorites, getCartGoods } from '../../store';\nimport { Icon } from '../Icon';\nimport { SECTION_LINKS, FOOTER_LINKS } from '../../helpers';\n\nexport const NavSliding = () => {\n  const location = useLocation();\n  const [isOpen, setIsOpen] = useState(false);\n  const favorites: string[] = useSelector(getFavorites);\n  const cart = useSelector(getCartGoods);\n\n  const handleNavSliding = () => {\n    setIsOpen(!isOpen);\n  };\n\n  useEffect(() => {\n    setIsOpen(false);\n  }, [location]);\n\n  return (\n    <nav className=\"NavSliding\">\n      <button\n        type=\"button\"\n        className={cn('NavSliding__Button', { 'NavSliding__Button--cross': isOpen })}\n        onClick={handleNavSliding}\n      >\n        <span className=\"NavSliding__ButtonLine\" />\n        <span className=\"NavSliding__ButtonLine\" />\n      </button>\n      <section className={cn('NavSliding__Block', { show: isOpen })}>\n        <div className=\"NavSliding__Illustration\" onClick={() => setIsOpen(false)} />\n        <div className=\"NavSliding__Content\">\n          <ul className=\"NavSliding__List--secondary NavSliding__List--icons\">\n            <li className=\"NavSliding__Item--secondary\">\n              <Link to=\"/favorites\" className=\"NavSliding__Icon\">\n                <Icon\n                  name=\"favorites\"\n                  tag={favorites.length}\n                  size={3}\n                  border={false}\n                  inActive={false}\n                />\n              </Link>\n            </li>\n            <li className=\"NavSliding__Item--secondary\">\n              <Link to=\"/cart\" className=\"NavSliding__Icon\">\n                <Icon\n                  name=\"shopping-bag\"\n                  tag={cart.length}\n                  size={3}\n                  border={false}\n                  inActive={false}\n                />\n              </Link>\n            </li>\n          </ul>\n          <ul className=\"NavSliding__List\">\n            <li className=\"NavSliding__Item\">\n              <Link\n                to=\"/\"\n                className=\"NavSliding__Link NavSliding__Link--primary\"\n              >\n                Home\n              </Link>\n            </li>\n            {SECTION_LINKS.map(({ name, url }) => (\n              <li className=\"NavSliding__Item\" key={name}>\n                <Link\n                  to={`/${url}`}\n                  className=\"NavSliding__Link NavSliding__Link--primary\"\n                >\n                  {name}\n                </Link>\n              </li>\n            ))}\n          </ul>\n          <ul className=\"NavSliding__List--secondary\">\n            {FOOTER_LINKS.map(({ name, url }) => (\n              <li className=\"NavSliding__Item--secondary\" key={name}>\n                <Link\n                  to={url}\n                  className=\"NavSliding__Link NavSliding__Link--secondary\"\n                >\n                  {name}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </section>\n    </nav>\n  );\n};\n","import React from 'react';\nimport { Link, NavLink, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport './Header.scss';\nimport { getFavorites, getCartGoods } from '../../store';\nimport { Nav } from '../Nav';\nimport { Search } from '../Search';\nimport { Icon } from '../Icon';\nimport { SECTION_LINKS } from '../../helpers';\nimport { NavSliding } from '../NavSliding';\n\nexport const Header = () => {\n  const favorites: string[] = useSelector(getFavorites);\n  const cart = useSelector(getCartGoods);\n\n  return (\n    <header className=\"Header\" id=\"top\">\n      <Link to=\"/\" className=\"Header__Logo\">\n        <img src=\"./img/logo.svg\" alt=\"Logo\" />\n      </Link>\n      <div className=\"Header__HomeLink\">\n        <NavLink\n          to=\"/\"\n          exact\n          className=\"Nav__Link\"\n          activeClassName=\"Nav__Link--active\"\n        >\n          Home\n        </NavLink>\n      </div>\n      <Nav links={SECTION_LINKS} className=\"Header__Nav\" />\n      <div className=\"Header__Search\">\n        <Route path=\"/:section\" exact component={Search} />\n      </div>\n      <Link to=\"/favorites\" className=\"Header__Button\">\n        <Icon\n          name=\"favorites\"\n          tag={favorites.length}\n          border={false}\n          inActive={false}\n        />\n      </Link>\n      <Link to=\"/cart\" className=\"Header__Button\">\n        <Icon\n          name=\"shopping-bag\"\n          tag={cart.length}\n          border={false}\n          inActive={false}\n        />\n      </Link>\n      <NavSliding />\n    </header>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport './BackToTop.scss';\nimport { Icon } from '../Icon';\n\nexport const BackToTop = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  const threshold = -200;\n  const scrolToTop = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    window.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    document.addEventListener('scroll', () => {\n      const scrollInfo = document.documentElement.getBoundingClientRect();\n\n      if (scrollInfo.top <= threshold) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  });\n\n  return (\n    <div className={cn(\n      {\n        'BackToTop': true,\n        'BackToTop--visible': isVisible,\n      }\n    )}>\n      <Link\n        to=\"#top\"\n        className=\"BackToTop__Link\"\n        onClick={scrolToTop}\n      >\n        <Icon\n          name=\"arrow-up\"\n          size={2}\n          border={false}\n          inActive={false}\n        />\n      </Link>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Footer.scss';\nimport { Nav } from '../Nav';\nimport { FOOTER_LINKS } from '../../helpers';\nimport { BackToTop } from '../BackToTop';\n\nexport const Footer = () => (\n  <footer className=\"Footer\">\n    <div className=\"Footer__Content container\">\n      <Link to=\"/\" className=\"Footer__Logo\">\n        <img src=\"./images/logo.svg\" alt=\"Logo\" />\n      </Link>\n      <Nav links={FOOTER_LINKS} className=\"Footer__Nav\" />\n      <BackToTop />\n    </div>\n  </footer>\n);\n","import React from 'react';\nimport './Buttons.scss';\nimport cn from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCartGoods, deleteCartGoods } from '../../store/cart';\nimport { getCartGoods } from '../../store';\n\ninterface Props {\n  id: string;\n}\n\nexport const PrimaryButton: React.FC<Props> = ({ id }) => {\n  const dispatch = useDispatch();\n  const cart = useSelector(getCartGoods);\n  const status = cart.some(good => good.id === id);\n\n  return (\n    <button\n      type=\"button\"\n      className={cn({\n        Button: true,\n        Button__Primary: true,\n        'Button__Primary--selected': status,\n      })}\n      onClick={() => {\n        if (status) {\n          dispatch(deleteCartGoods(id));\n        } else {\n          dispatch(addCartGoods(id));\n        }\n      }}\n    >\n      {status ? 'Remove from cart' : 'Add to cart'}\n    </button>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getFavorites, removeFavorite, addFavorite } from '../../store';\nimport { PrimaryButton } from '../Buttons';\nimport { Icon } from '../Icon';\n\ninterface Props {\n  good: Good;\n}\n\nexport const GoodItem: React.FC<Props> = ({ good }) => {\n  const favorites: Array<string> = useSelector(getFavorites);\n  const dispatch = useDispatch();\n\n  const isFavorite = useMemo(\n    () => (goodId: string) => favorites.some(id => id === goodId),\n    [favorites],\n  );\n\n  const handleFavorites = (selectedGood: Good) => {\n    if (favorites.some(favorite => favorite === selectedGood.id)) {\n      dispatch(removeFavorite(selectedGood.id));\n    } else {\n      dispatch(addFavorite(selectedGood.id));\n    }\n  };\n\n  return (\n    <article key={good.id} className=\"GoodsList__Item GoodItem\">\n      <Link to={`/${good.type}/${good.id}`} className=\"GoodItem__Link\">\n        <picture>\n          <source srcSet={`./img/phones-jxr/${good.id}.0.jxr`} type=\"image/vnd.ms-photo\" />\n          <source srcSet={`./img/phones-jp2/${good.id}.0.jp2`} type=\"image/jp2\" />\n          <source srcSet={`./img/phones-webp/${good.id}.0.webp`} type=\"image/webp\" />\n          <img\n            srcSet={`./img/phones-jpeg/${good.id}.0.jpeg`}\n            alt={good.name}\n            className=\"GoodItem__Image\"\n          />\n        </picture>\n        <h3 className=\"GoodItem__Heading\">\n          {good.name}\n        </h3>\n      </Link>\n\n      <section className=\"GoodItem__Price\">\n        <span className=\"GoodItem__Price--actual\">\n          {(good.discount > 0)\n            ? good.price - ((good.price / 100) * good.discount)\n            : good.price}\n        </span>\n        {(good.discount > 0) && (\n          <span className=\"GoodItem__Price--full\">\n            {good.price}\n          </span>\n        )}\n      </section>\n\n      <section className=\"GoodItem__PropsList\">\n        <div className=\"GoodItem__PropsItem\">\n          <span className=\"GoodItem__PropsItem--title\">Screen</span>\n          <span className=\"GoodItem__PropsItem--value\">\n            {good.screen ? good.screen : '-'}\n          </span>\n        </div>\n\n        <div className=\"GoodItem__PropsItem\">\n          <span className=\"GoodItem__PropsItem--title\">Capacity</span>\n          <span className=\"GoodItem__PropsItem--value\">\n            {good.capacity ? good.capacity : '-'}\n          </span>\n        </div>\n\n        <div className=\"GoodItem__PropsItem\">\n          <span className=\"GoodItem__PropsItem--title\">RAM</span>\n          <span className=\"GoodItem__PropsItem--value\">\n            {good.ram ? good.ram : '-'}\n          </span>\n        </div>\n      </section>\n\n      <section className=\"GoodItem__Buttons\">\n        <div className=\"GoodItem__Buttons--main\">\n          <PrimaryButton\n            id={good.id}\n          />\n        </div>\n        <label onClick={() => handleFavorites(good)}>\n          <Icon name={isFavorite(good.id) ? 'favorites-filled' : 'favorites'} border inActive={false} />\n        </label>\n      </section>\n    </article>\n  );\n};\n","import React from 'react';\n\nimport './GoodsList.scss';\nimport { GoodItem } from './GoodItem';\n\ninterface Props {\n  goods: Good[];\n}\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <div className=\"GoodsList\">\n    {goods.map(good => (\n      <GoodItem good={good} key={good.id} />\n    ))}\n  </div>\n);\n","import React from 'react';\nimport {\n  useLocation,\n  Redirect,\n  useHistory,\n} from 'react-router-dom';\nimport cn from 'classnames';\n\nimport './Pagination.scss';\n\ninterface Props {\n  qty: number;\n  perPage: number;\n}\n\nexport const Pagination: React.FC<Props> = ({ qty, perPage }) => {\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const currentPage = Number(searchParams.get('page'));\n\n  if (currentPage <= 0) {\n    return (\n      <Redirect\n        to={{\n          pathname: `${location.pathname}`,\n          search: `?page=1&perPage=${perPage}`,\n        }}\n      />\n    );\n  }\n\n  const currentSort = searchParams.get('sortBy');\n  const pages = Array(Math.ceil(qty / Number(perPage))).fill(0, 0, qty).map((p, i) => p + i + 1);\n\n  const handleClick = (page: number) => {\n    if (currentSort) {\n      searchParams.set('sortBy', currentSort);\n    }\n\n    searchParams.set('page', `${page}`);\n    history.push({\n      search: searchParams.toString(),\n    });\n  };\n\n  if (currentPage <= 0) {\n    return (\n      <Redirect\n        to={{\n          pathname: `${location.pathname}`,\n          search: `?page=1&perPage=${perPage}`,\n        }}\n      />\n    );\n  }\n\n  if (currentPage > pages.length) {\n    return (\n      <Redirect\n        to={{\n          pathname: `${location.pathname}`,\n          search: `?page=${pages.length}&perPage=${perPage}`,\n        }}\n      />\n    );\n  }\n\n  const getArrow = (type: string) => {\n    if (type === 'prev' && currentPage > 1) {\n      return (\n        <button\n          type=\"button\"\n          className=\"Pagination__Button Pagination__Button--arrow-left\"\n          onClick={() => handleClick(currentPage - 1)}\n        />\n      );\n    }\n\n    if (type === 'prev') {\n      return (\n        <div className=\"\n          Pagination__Button\n          Pagination__Button--arrow-left\n          Pagination__Button--disabled\"\n        />\n      );\n    }\n\n    if (type === 'next' && currentPage < pages.length) {\n      return (\n        <button\n          type=\"button\"\n          className=\"Pagination__Button Pagination__Button--arrow-right\"\n          onClick={() => handleClick(currentPage + 1)}\n        />\n      );\n    }\n\n    if (type === 'next') {\n      return (\n        <div className=\"\n          Pagination__Button\n          Pagination__Button--arrow-right\n          Pagination__Button--disabled\"\n        />\n      );\n    }\n\n    return '';\n  };\n\n  return (\n    <nav className=\"Pagination\">\n      <ul className=\"Pagination__List\">\n        <li className=\"Pagination__Item\">\n          {getArrow('prev')}\n        </li>\n        {pages.map(page => (\n          <li className=\"Pagination__Item\" key={page}>\n            <button\n              type=\"button\"\n              className={cn({\n                Pagination__Button: true,\n                'Pagination__Button--active': page === currentPage,\n              })}\n              onClick={() => handleClick(page)}\n            >\n              {page}\n            </button>\n          </li>\n        ))}\n        <li className=\"Pagination__Item\">\n          {getArrow('next')}\n        </li>\n      </ul>\n    </nav>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport cn from 'classnames';\n\ninterface Props {\n  options: PerPage[];\n}\n\nexport const SelectPerPage: React.FC<Props> = ({ options }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const currentPerPage = searchParams.get('perPage');\n  const currentOption = options.find(option => option.name === currentPerPage) || options[0];\n  const [isOpen, setIsOpen] = useState(false);\n\n  const chooseSelectValue = (option: PerPage) => {\n    searchParams.set('perPage', option.name);\n    searchParams.set('page', '1');\n    history.push({\n      search: searchParams.toString(),\n    });\n\n    setIsOpen(false);\n  };\n\n  const clickSubscribe = () => {\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      document.documentElement.removeEventListener('click', clickSubscribe);\n    } else {\n      document.documentElement.addEventListener('click', clickSubscribe);\n    }\n  }, [isOpen]);\n\n  return (\n    <div\n      className={cn({\n        Select: true,\n        Select__Closest: !isOpen,\n      })}\n    >\n      <label\n        className={cn({\n          'Select__Active--after': isOpen,\n        })}\n      />\n\n      <button\n        type=\"button\"\n        className={cn({\n          Select__Active: true,\n          'Select__Active--opened': isOpen,\n        })}\n        onClick={() => setIsOpen(true)}\n      >\n        {currentOption.name}\n        <span>\n          <div className={cn({\n            Select__Arrow: true,\n            'Select__Arrow--opened': isOpen,\n          })}\n          />\n        </span>\n      </button>\n      <ul className={cn({\n        Select__List: true,\n        'Select__List--opened': isOpen,\n      })}\n      >\n        {options.map(option => (\n          option.name !== currentOption.name && (\n            <li\n              key={option.name}\n              className=\"Select__Item\"\n              data-value={option.name}\n              onClick={() => chooseSelectValue(option)}\n            >\n              {option.name}\n            </li>\n          )\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\nimport './NotAvailable.scss';\n\nexport const NotAvailable = () => (\n  <div className=\"NotAvailable\">\n    <picture>\n      <source srcSet=\"./images/jxr/notAvailable.jxr\" type=\"image/vnd.ms-photo\" />\n      <source srcSet=\"./images/jp2/notAvailable.jp2\" type=\"image/jp2\" />\n      <source srcSet=\"./images/webp/notAvailable.webp\" type=\"image/webp\" />\n      <img\n        srcSet=\"./images/jpeg/notAvailable.jpeg\"\n        alt=\"Goods not available\"\n        className=\"NotAvailable__Image\"\n      />\n    </picture>\n  </div>\n);\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport cn from 'classnames';\n\nimport './Select.scss';\n\ninterface Props {\n  options: SortType[];\n}\n\nexport const Select: React.FC<Props> = ({ options }) => {\n  const defaultSortType = options.find(item => item.isDefault) || options[0];\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const currentSortType = useMemo(\n    () => searchParams.get('sortBy') || defaultSortType,\n    [searchParams, defaultSortType],\n  );\n  const currentPerPage = useMemo(() => searchParams.get('perPage'), [searchParams]);\n\n  const currentOption = options.find(option => option.type === currentSortType) || defaultSortType;\n  const [isOpen, setIsOpen] = useState(false);\n\n  const chooseSelectValue = (option: SortType) => {\n    searchParams.set('sortBy', option.type);\n    searchParams.set('page', '1');\n\n    if (currentPerPage) {\n      searchParams.set('perPage', currentPerPage);\n    }\n\n    history.push({\n      search: searchParams.toString(),\n    });\n\n    setIsOpen(false);\n  };\n\n  const clickSubscribe = () => {\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      document.documentElement.removeEventListener('click', clickSubscribe);\n    } else {\n      document.documentElement.addEventListener('click', clickSubscribe);\n    }\n  }, [isOpen]);\n\n  return (\n    <div\n      className={cn({\n        Select: true,\n        Select__Closest: !isOpen,\n      })}\n    >\n      <label\n        className={cn({\n          'Select__Active--after': isOpen,\n        })}\n      />\n\n      <button\n        type=\"button\"\n        className={cn({\n          Select__Active: true,\n          'Select__Active--opened': isOpen,\n        })}\n        onClick={() => setIsOpen(true)}\n      >\n        {currentOption.name}\n        <span>\n          <div className={cn({\n            Select__Arrow: true,\n            'Select__Arrow--opened': isOpen,\n          })}\n          />\n        </span>\n      </button>\n      <ul className={cn({\n        Select__List: true,\n        'Select__List--opened': isOpen,\n      })}\n      >\n        {options.map(option => (\n          option.type !== currentOption.type && (\n            <li\n              key={option.name}\n              className=\"Select__Item\"\n              data-value={option.type}\n              onClick={() => chooseSelectValue(option)}\n            >\n              {option.name}\n            </li>\n          )\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\nimport './NotFound.scss';\n\nexport const NotFound = () => {\n  return (\n    <div className=\"NotFound\">\n      <picture>\n        <source srcSet=\"./images/jxr/notFound.jxr\" type=\"image/vnd.ms-photo\" />\n        <source srcSet=\"./images/jp2/notFound.jp2\" type=\"image/jp2\" />\n        <source srcSet=\"./images/webp/notFound.webp\" type=\"image/webp\" />\n        <img\n          srcSet=\"./images/jpeg/notFound.jpeg\"\n          alt=\"Goods not found\"\n          className=\"NotFound__Image\"\n        />\n      </picture>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useParams, useLocation, useHistory, Redirect } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nimport { getGoods } from '../../store';\n\nimport './GoodsSection.scss';\nimport { GoodsList } from '../GoodsList';\nimport { Pagination, SelectPerPage } from '../Pagination';\nimport { NotAvailable } from '../NotAvailable';\nimport {\n  sortBy,\n  SECTION_LINKS,\n  SORT_TYPES,\n  PER_PAGE_SETTINGS,\n} from '../../helpers';\nimport { Select } from '../Select';\nimport { NotFound } from '../NotFound';\n\nexport const GoodsSection = () => {\n  const goods: Good[] = useSelector(getGoods);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const query = searchParams.get('query')?.toLowerCase() || '';\n  const currentPage = Number(searchParams.get('page'));\n  const [defaultPerPage] = PER_PAGE_SETTINGS;\n  const perPageParam = useMemo(() => searchParams.get('perPage'), [searchParams]);\n  let perPage = Number(defaultPerPage.name);\n\n  if (PER_PAGE_SETTINGS.find(item => item.name === perPageParam)) {\n    perPage = Number(PER_PAGE_SETTINGS.find(item => item.name === perPageParam)?.name);\n  } else {\n    searchParams.set('perPage', defaultPerPage.name);\n    history.push({\n      search: searchParams.toString(),\n    });\n  }\n\n  const sortParam = searchParams.get('sortBy');\n  const sortType = SORT_TYPES.find((sort: SortType) => sort.type === sortParam) || SORT_TYPES[1];\n\n  if (!sortType) {\n    searchParams.set('sortBy', SORT_TYPES[1].type);\n    history.push({\n      search: searchParams.toString(),\n    });\n  }\n\n  const { section } = useParams();\n  const sectionProp = SECTION_LINKS.find(link => link.url === section);\n\n  const filteredGoods = useMemo(\n    () => goods.filter(good => good.type === sectionProp?.type),\n    [goods, sectionProp],\n  );\n\n  const searchedGoods = useMemo(\n    () => filteredGoods.filter(good => {\n      return `${good.name} ${good.snippet}`.toLowerCase().includes(query);\n    }),\n    [query, filteredGoods],\n  );\n\n  const sortedGoods = useMemo(\n    () => sortBy(searchedGoods, sortType),\n    [searchedGoods, sortType],\n  );\n\n  const paginatedGoods = sortedGoods.slice(\n    (currentPage || 1) * perPage - perPage,\n    (currentPage || 1) * perPage,\n  );\n\n  if (sortedGoods.length < perPage && currentPage > 1) {\n    return (\n      <Redirect\n        to={{\n          pathname: `${location.pathname}`,\n          search: `?page=1&perPage=${perPage}`,\n        }}\n      />\n    );\n  };\n\n\n  return (\n    <>\n      {filteredGoods.length === 0 && <NotAvailable />}\n      {filteredGoods.length > 0 && searchedGoods.length === 0 && (\n        <NotFound />\n      )}\n      {sortedGoods.length >= 1 && (\n        <section className=\"section GoodsSection\">\n          <Helmet>\n            <title>{sectionProp?.title || sectionProp?.name}</title>\n            <meta name=\"description\" content={`${sectionProp?.title || sectionProp?.name} - Mobile Store`} />\n          </Helmet>\n          <h1 className=\"GoodsSection__Heading\">\n            {sectionProp?.title || sectionProp?.name}\n          </h1>\n          <div className=\"GoodsSection__Qty\">{`${filteredGoods.length} models`}</div>\n\n          <div className=\"GoodsSection__Control\">\n            {filteredGoods.length > 1 && (\n              <>\n                <div className=\"GoodsSection__Select\">\n                  <div className=\"GoodsSection__SelectName\">\n                    Sort by\n                  </div>\n                  <Select options={SORT_TYPES} />\n                </div>\n\n                <div className=\"GoodSection__Select\">\n                  <div className=\"GoodsSection__SelectName\">\n                    Items on page\n                  </div>\n                  <SelectPerPage options={PER_PAGE_SETTINGS} />\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"GoodsSection__Container\">\n            <GoodsList goods={paginatedGoods} />\n          </div>\n          {searchedGoods.length > perPage && (\n            <div className=\"Pagination\">\n              <Pagination qty={searchedGoods.length} perPage={perPage} />\n            </div>\n          )}\n        </section>\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport { techInfo } from '../../helpers/techInfo';\nimport { ITEM_TECH_INFO } from '../../helpers/config';\ninterface Props {\n  goodInfo: Good | undefined;\n  goodDetail: GoodDetail;\n}\n\nexport const GoodTechInfo: React.FC<Props> = ({ goodInfo, goodDetail }) => (\n  <ul className=\"GoodPage__InfoList\">\n    {ITEM_TECH_INFO.map(item => (\n      <li className=\"GoodPage__InfoItem\" key={item.name}>\n        <p className=\"GoodPage__InfoTitle\">\n          {item.name}\n        </p>\n        <p className=\"GoodPage__InfoFeature\">\n          {goodInfo && techInfo(goodInfo, goodDetail, item.name, item.order)}\n        </p>\n      </li>\n    ))}\n  </ul>\n);\n\n","import React from 'react';\nimport { techInfo } from '../../helpers/techInfo';\nimport { ITEM_TECH_SPECS } from '../../helpers/config';\n\ninterface Props {\n  goodInfo: Good | undefined;\n  goodDetail: GoodDetail;\n};\n\nexport const GoodSpecsInfo: React.FC<Props> = ({ goodInfo, goodDetail }) => (\n  <ul className=\"GoodPage__SpecsList\">\n    {ITEM_TECH_SPECS.map(item => (\n      <li className=\"GoodPage__SpecsItem\" key={item.name}>\n        <p className=\"GoodPage__SpecsTitle\">\n          {item.name}\n        </p>\n        <p className=\"GoodPage__SpecsFeature\">\n          {goodInfo && techInfo(goodInfo, goodDetail, item.name, item.order)}\n        </p>\n      </li>\n    ))}\n  </ul>\n);\n","import React, { useState, useRef, useEffect } from 'react';\nimport cn from 'classnames';\nimport { GoodItem } from '../GoodsList';\nimport './CardSlider.scss';\n\ninterface Props {\n  goods: Good[];\n  title: string;\n}\n\nexport const CardSlider: React.FC<Props> = ({ goods, title }) => {\n  const [left, setLeft] = useState(0);\n  const myWidth = useRef<HTMLDivElement>(null);\n  const cardGap = 16;\n  const minCardWidth = 272;\n  const [cardsOnOneMoment, setCardsOnOneMoment] = useState(4);\n  const [cardWidth, setCardWidth] = useState(minCardWidth);\n  const cardsLength = goods.length;\n  const [position, setPosition] = useState(cardsOnOneMoment);\n\n  const handleSlider = (path: number) => {\n    const newLeftPosition = (cardWidth + cardGap) * -path;\n\n    setLeft(left + newLeftPosition);\n    setPosition(position + path);\n  };\n\n  useEffect(() => {\n    const containerWidth = myWidth.current?.offsetWidth || 0;\n    const visibleCardsQTY = Math.floor(containerWidth / cardWidth);\n    const gapsWidth = (visibleCardsQTY - 1) * cardGap;\n    const visibleCardWidth = (containerWidth - gapsWidth) / visibleCardsQTY;\n\n    setCardsOnOneMoment(visibleCardsQTY);\n    setPosition(visibleCardsQTY);\n    setLeft(0);\n    setCardWidth(visibleCardWidth);\n  }, [myWidth, cardWidth]);\n\n  return (\n    <>\n      <div\n        className=\"Card__Container\"\n        ref={myWidth}\n      >\n        <div className=\"Card__Title-site\">\n          <div>\n            <h2 className=\"Card__Title\">{title}</h2>\n          </div>\n          <div className=\"Card__Buttons\">\n            <button\n              className=\"Card__Button\"\n              type=\"button\"\n              onClick={() => handleSlider(-1)}\n              disabled={position === cardsOnOneMoment}\n            >\n              <div\n                className={cn({\n                  'Card__Button--arrow-left': true,\n                  'Card__Button--arrow': true,\n                  'Card__Button--arrow--disabled': position === cardsOnOneMoment,\n                })}\n              />\n            </button>\n            <button\n              className=\"Card__Button\"\n              type=\"button\"\n              onClick={() => handleSlider(1)}\n              disabled={position === cardsLength}\n            >\n              <div\n                className={cn({\n                  'Card__Button--arrow-right': true,\n                  'Card__Button--arrow': true,\n                  'Card__Button--arrow--disabled': position === cardsLength,\n                })}\n              />\n            </button>\n          </div>\n        </div>\n        <ul\n          className=\"Card\"\n          style={{\n            transform: `translateX(${left}px)`,\n          }}\n        >\n          {goods.map(card => (\n            <li\n              key={card.id}\n              className=\"Card__Item\"\n              style={{\n                width: `${cardWidth}px`,\n              }}\n            >\n              <GoodItem good={card} />\n            </li>\n          ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport './LoadSpinner.scss';\n\nexport const LoadSpinner = () => (\n  <div className=\"lds-roller\">\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useRouteMatch, Redirect } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport cn from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './GoodPage.scss';\nimport {\n  getGoods,\n  getFavorites,\n  addFavorite,\n  removeFavorite,\n} from '../../store';\nimport { fetchGoodDetail, SECTION_LINKS, sliderFilter } from '../../helpers';\nimport { PrimaryButton } from '../Buttons';\nimport { Icon } from '../Icon';\nimport { GoodTechInfo } from './GoodTechInfo';\nimport { GoodSpecsInfo } from './GoodSpecsInfo';\nimport { CardSlider } from '../CardSlider';\nimport { LoadSpinner } from '../LoadSpinner';\n\nexport const GoodPage = () => {\n  const goods: Good[] = useSelector(getGoods);\n  const { good } = useParams();\n  const match: Match = useRouteMatch();\n  const [goodDetail, setGoodDetail] = useState<GoodDetail>();\n  const [goodInfo, setGoodInfo] = useState<Good>();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n\n  const favorites: Array<string> = useSelector(getFavorites);\n  const dispatch = useDispatch();\n  const isFavorite = useMemo(\n    () => (goodId: string) =>  favorites.some(id => id === goodId),\n    [favorites],\n  );\n  const currentType = goods.find(phone => goodDetail && phone.id === goodDetail.id);\n  const sliderItems = sliderFilter(goods, 'hotPrice', '');\n\n  const loadGoodDetail = async (goodId: string) => {\n    setIsLoading(true);\n    setErrorMessage('');\n\n    try {\n      const data = await fetchGoodDetail(goodId);\n      const preparedGoodDetail = { ...data };\n\n      setGoodDetail(preparedGoodDetail);\n      setIsLoaded(true);\n    } catch (error) {\n      setErrorMessage(String(error));\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    if (goods.length) {\n      const goodDetailInfo = goods.find(item => item.id === match.params.good);\n\n      setGoodInfo(goodDetailInfo);\n    }\n  }, [goods, match.params.good]);\n\n  useEffect(() => {\n    loadGoodDetail(good);\n  }, [good]);\n\n  const handleImages = (e: React.MouseEvent<HTMLElement>, i: number) => {\n    e.preventDefault();\n    setActiveImageIndex(i);\n  };\n\n  const handleFavorites = (goodId: string) => {\n    if (favorites.some(favorite => favorite === goodId)) {\n      dispatch(removeFavorite(goodId));\n    } else {\n      dispatch(addFavorite(goodId));\n    }\n  };\n\n  const price = useMemo(\n    () => (goodInfo && goodInfo.discount > 0\n      ? goodInfo.price - ((goodInfo.price / 100) * goodInfo.discount)\n      : goodInfo && goodInfo.price),\n    [goodInfo],\n  );\n\n  if (match.params.section === 'undefined' && goods && currentType) {\n    const typeParam = SECTION_LINKS.find(section => section.type === currentType.type);\n\n    if (typeParam) {\n      return <Redirect to={`/${typeParam.url}/${match.params.good}`} />;\n    }\n  }\n\n  return (\n    <>\n      <section className=\"section\">\n\n        {errorMessage && <div>{errorMessage}</div>}\n        {isLoading\n          && (\n            <div className=\"GoodPage__Loading\">\n              <LoadSpinner />\n            </div>\n          )}\n        {isLoading && isLoaded && ''}\n        {goodDetail && (\n          <article className=\"GoodPage\">\n            <Helmet>\n              <title>{goodDetail.name}</title>\n              <meta name=\"description\" content={`${goodDetail.name} - Mobile Store`} />\n            </Helmet>\n            <h1 className=\"GoodPage__Heading\">{goodDetail.name}</h1>\n            <div className=\"GoodPage__Content\">\n              <div className=\"GoodPage__Column\">\n                <section className=\"GoodPage__Images\">\n                  <ul className=\"GoodPage__ImageList\">\n                    {goodDetail.images.map((image, i) => (\n                      <li\n                        className={cn(\n                          'GoodPage__ImageItem',\n                          { 'GoodPage__Image--current': i === activeImageIndex },\n                        )}\n                        key={image}\n                      >\n                        <a href=\"./#\" onClick={e => handleImages(e, i)}>\n                          <picture>\n                            <source srcSet={`./img/phones-jxr/${goodDetail.id}.${i}.jxr`} type=\"image/vnd.ms-photo\" />\n                            <source srcSet={`./img/phones-jp2/${goodDetail.id}.${i}.jp2`} type=\"image/jp2\" />\n                            <source srcSet={`./img/phones-webp/${goodDetail.id}.${i}.webp`} type=\"image/webp\" />\n                            <img\n                              srcSet={`./img/phones-jpeg/${goodDetail.id}.${i}.jpeg`}\n                              alt={goodDetail.name}\n                              className=\"GoodPage__Image\"\n                            />\n                          </picture>\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                  <picture>\n                    <source srcSet={`./img/phones-jxr/${goodDetail.id}.${activeImageIndex}.jxr`} type=\"image/vnd.ms-photo\" />\n                    <source srcSet={`./img/phones-jp2/${goodDetail.id}.${activeImageIndex}.jp2`} type=\"image/jp2\" />\n                    <source srcSet={`./img/phones-webp/${goodDetail.id}.${activeImageIndex}.webp`} type=\"image/webp\" />\n                    <img\n                      srcSet={`./img/phones-jpeg/${goodDetail.id}.${activeImageIndex}.jpeg`}\n                      alt={goodDetail.name}\n                      className=\"GoodPage__ImageBig\"\n                    />\n                  </picture>\n                </section>\n              </div>\n              <div className=\"GoodPage__Column\">\n                <span className=\"GoodPage__Id\">\n                  ID:\n                  {' '}\n                  {goodInfo && goodInfo.id}\n                </span>\n                <section className=\"GoodPage__NarrowBlock\">\n                  <div className=\"GoodPage__Price\">\n                    <span className=\"GoodPage__Price--actual\">\n                      {price}\n                    </span>\n                    {(goodInfo && goodInfo.discount > 0) && (\n                      <span className=\"GoodPage__Price--full\">\n                        {goodInfo.price}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"GoodPage__Buttons\">\n                    <div className=\"GoodPage__Buttons--main\">\n                      <PrimaryButton\n                        id={match.params.good}\n                      />\n                    </div>\n                    <div className=\"GoodPage__Buttons--favorites\">\n                      <label onClick={() => handleFavorites(good)}>\n                        <Icon name={isFavorite(good) ? 'favorites-filled' : 'favorites'} border inActive={false} />\n                      </label>\n                    </div>\n                  </div>\n                </section>\n                <section className=\"GoodPage__Info\">\n                  <GoodTechInfo\n                    goodDetail={goodDetail}\n                    goodInfo={goodInfo}\n                  />\n                </section>\n              </div>\n\n              <div className=\"GoodPage__Column\">\n                <section className=\"GoodPage__Description\">\n                  <h2 className=\"GoodPage__SubHeading\">About</h2>\n                  {goodInfo && goodInfo.snippet}\n                  <div className=\"GoodPage__MoreInfo\">\n                    <h3 className=\"GoodPage__MoreInfo--SubHeading\">More info</h3>\n                    {goodDetail && goodDetail.description}\n                  </div>\n                </section>\n              </div>\n\n              <div className=\"GoodPage__Column\">\n                <section className=\"GoodPage__TechSpecs\">\n                  <h2 className=\"GoodPage__SubHeading\">Tech specs</h2>\n                  <ul>\n                    <GoodSpecsInfo\n                      goodDetail={goodDetail}\n                      goodInfo={goodInfo}\n                    />\n                  </ul>\n                </section>\n              </div>\n            </div>\n          </article>\n        )}\n      </section>\n      <CardSlider goods={sliderItems} title=\"You may also like\" />\n    </>\n  );\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport './Banner.scss';\nimport cn from 'classnames';\n\nimport { Banners } from '../../helpers';\n\nexport const BannerSlider: React.FC = () => {\n  const bannerImages = Banners.map((image, i) => ({\n    ...image,\n    position: i + 1,\n  }));\n\n  const [currentPosition, setcurrentPosition] = useState(1);\n  const [left, setLeft] = useState(0);\n  const [imageWidth, setImageWidth] = useState(1040);\n  const imageGap = 16;\n  const myWidth = useRef<HTMLDivElement>(null);\n\n  const handleSlide = (path: number) => {\n    const newLeftPosition = (imageWidth + imageGap) * -path;\n\n    if (currentPosition === bannerImages.length && path === 1) {\n      setcurrentPosition(1);\n      setLeft(0);\n\n      return;\n    }\n\n    if (currentPosition === 1 && path === -1) {\n      setcurrentPosition(bannerImages.length);\n      setLeft(((imageWidth + imageGap) * path) * (bannerImages.length - 1));\n\n      return;\n    }\n\n    setcurrentPosition(currentPosition + path);\n    setLeft(left + newLeftPosition);\n  };\n\n  const chooseImages = (position: number) => {\n    if (position === 1) {\n      setLeft(0);\n      setcurrentPosition(1);\n\n      return;\n    }\n\n    const newLoeftPosition = (((position - 1) * imageWidth) + ((position - 1) * imageGap)) * -1;\n\n    setLeft(newLoeftPosition);\n    setcurrentPosition(position);\n  };\n\n  useEffect(() => {\n    const width = (myWidth.current?.offsetWidth || 0);\n    const buttonWidth = 32;\n    const gapWidth = 16;\n\n    setImageWidth(width - (buttonWidth * 2) - (gapWidth * 2));\n  }, [myWidth]);\n\n  return (\n    <div\n      className=\"Banner\"\n      ref={myWidth}\n    >\n      <div\n        className=\"Banner__Slider\"\n      >\n        <button\n          type=\"button\"\n          className=\"Banner__Button\"\n          onClick={() => handleSlide(-1)}\n        >\n          <div className=\"Banner__Image Banner__Image--arrow-left\" />\n        </button>\n\n        <div className=\"Banner__Container\">\n          <ul\n            className=\"Banner__Content\"\n            style={{\n              transform: `translateX(${left}px)`,\n            }}\n          >\n            {bannerImages.map(image => (\n              <li\n                className=\"Banner__Content-image\"\n                key={image.position}\n              >\n                <picture>\n                  <source srcSet={image.imgJXR} type=\"image/vnd.ms-photo\" />\n                  <source srcSet={image.imgJP2} type=\"image/jp2\" />\n                  <source srcSet={image.imgWEBP} type=\"image/webp\" />\n                  <img\n                    srcSet={image.imgUrl}\n                    alt={image.alt}\n                    className=\"Banner__Image--current\"\n                    style={{\n                      width: `${imageWidth}px`,\n                    }}\n                  />\n                </picture>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"Banner__Button\"\n          onClick={() => handleSlide(1)}\n        >\n          <div className=\"Banner__Image Banner__Image--arrow-right\" />\n        </button>\n      </div>\n      <div className=\"Banner__Position-container\">\n        {bannerImages.map(image => (\n          <span\n            key={image.position}\n            className={cn({\n              'Banner__Position--active': image.position === currentPosition,\n            },\n            'Banner__Position')}\n            onClick={() => chooseImages(image.position)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './ShopCategory.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { getGoods } from '../../store';\nimport { SECTION_LINKS } from '../../helpers';\n\nexport const ShopCategory = () => {\n  const goods: Good[] = useSelector(getGoods);\n\n  return (\n    <div className=\"Category\">\n      <h2 className=\"Category__Title\">\n        Shop by category\n      </h2>\n      <div className=\"Category__Container\">\n        <ul className=\"Category__List\">\n          {SECTION_LINKS.map(link => (\n            <li\n              className=\"Category__Item\"\n              key={link.name}\n            >\n              <Link to={link.url} className=\"Category__Link\">\n                <div\n                  className=\"Category__ImageContainer\"\n                >\n                  <picture>\n                    <source srcSet={link.imgJXR} type=\"image/vnd.ms-photo\" />\n                    <source srcSet={link.imgJP2} type=\"image/jp2\" />\n                    <source srcSet={link.imgWEBP} type=\"image/webp\" />\n                    <img\n                      srcSet={link.imgUrl}\n                      alt={link.title}\n                      className=\"Category__Image\"\n                    />\n                  </picture>\n                </div>\n                <div className=\"Category__Info\">\n                  <h3 className=\"Category__InfoType Category__Paragraph\">\n                    {link.title}\n                  </h3>\n                  <p className=\"Category__InfoCount Category__Paragraph\">\n                    {goods.filter(card => card.type === link.type).length}\n                    {' models'}\n                  </p>\n                </div>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nimport { getGoods } from '../../store';\nimport { BannerSlider } from '../Banner';\nimport { CardSlider } from '../CardSlider';\nimport { sliderFilter, SLIDER_FILTER_TYPE } from '../../helpers';\nimport { ShopCategory } from '../ShopCategory';\n\nexport const HomePage = () => {\n  const goods: Good[] = useSelector(getGoods);\n  const hotPrices = sliderFilter(goods, SLIDER_FILTER_TYPE.hotPrice, '');\n  const highPrices = sliderFilter(goods, SLIDER_FILTER_TYPE.newModels, '');\n\n  return (\n    <>\n      <Helmet>\n        <title>Phone Store</title>\n        <meta name=\"description\" content=\"Perfect Phones and Tablets for You‎\" />\n      </Helmet>\n      <BannerSlider />\n      <CardSlider goods={hotPrices} title=\"Hot prices\" />\n      <ShopCategory />\n      <CardSlider goods={highPrices} title=\"Brand new models\" />\n    </>\n  );\n};\n","import React, { useMemo, useEffect } from 'react';\nimport { useLocation, useHistory, Redirect } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\n\nimport { getGoods, getFavorites } from '../../store';\nimport { GoodsList } from '../GoodsList';\nimport { Pagination, SelectPerPage } from '../Pagination';\nimport { PER_PAGE_SETTINGS } from '../../helpers';\nimport { NotFound } from '../NotFound';\n\nexport const Favorites = () => {\n  const goods: Good[] = useSelector(getGoods);\n  const favorites: Array<string> = useSelector(getFavorites);\n\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const favoritesProducts = useMemo(\n    () => [...goods].filter(product => favorites.some(id => id === product.id)),\n    [favorites, goods],\n  );\n\n  const [defaultPerPage] = PER_PAGE_SETTINGS;\n  const currentPage = Number(searchParams.get('page'));\n  const perPage = useMemo(() => Number(searchParams.get('perPage')), [searchParams]);\n\n  useEffect(() => {\n    if (PER_PAGE_SETTINGS.some(item => item.name === String(perPage))) {\n      return;\n    }\n\n    searchParams.set('perPage', defaultPerPage.name);\n    history.push({\n      search: searchParams.toString(),\n    });\n  }, [perPage, defaultPerPage.name, history, searchParams]);\n\n\n  const paginatedGoods = favoritesProducts.slice(\n    (currentPage || 1) * perPage - perPage,\n    (currentPage || 1) * perPage,\n  );\n\n  if (favoritesProducts.length < perPage && currentPage > 1) {\n    return (\n      <Redirect\n        to={{\n          pathname: `${location.pathname}`,\n          search: `?page=1&perPage=${perPage}`,\n        }}\n      />\n    );\n  };\n\n  return (\n    <section className=\"section GoodsSection\">\n      <Helmet>\n        <title>Favorite Goods</title>\n        <meta name=\"description\" content=\"Your favorites goods on our Store\" />\n      </Helmet>\n      <h1 className=\"GoodsSection__Heading\">\n        Favorite Goods\n      </h1>\n      <div className=\"GoodsSection__Qty\">{`${favorites.length} items`}</div>\n      <div className=\"GoodsSection__Control\">\n        {favoritesProducts.length > 1 && (\n          <div className=\"GoodSection__Select\">\n            <div className=\"GoodsSection__SelectName\">\n              Items on page\n            </div>\n            <SelectPerPage options={PER_PAGE_SETTINGS} />\n          </div>\n        )}\n      </div>\n      <GoodsList goods={paginatedGoods} />\n      {paginatedGoods.length === 0 && <NotFound />}\n      {favoritesProducts.length > perPage && (\n        <div className=\"Pagination\">\n          <Pagination qty={favoritesProducts.length} perPage={perPage} />\n        </div>\n      )}\n    </section>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport './Cart.scss';\nimport { getGoods, getCartGoods } from '../../store';\nimport { changeCount, clearCart, deleteCartGoods } from '../../store/cart';\n\n\nexport const Cart = () => {\n  const goods: Good[] = useSelector(getGoods);\n  const cart = useSelector(getCartGoods);\n  const dispatch = useDispatch();\n  const [goodForBuy, setGoodForBuy] = useState<Good[]>(\n    goods.filter(good => cart.some(prod => prod.id === good.id)),\n  );\n\n  const [checkoutHeight] = useState(206);\n  const cartGoodWidth = 128;\n  const cardGap = 16;\n  const checkoutContainer = 90;\n  const maxForOrder = 10;\n\n  useEffect(() => {\n    if (cart.length) {\n      setGoodForBuy(goods\n        .filter(good => cart\n          .some(prod => prod.id === good.id)));\n    }\n  }, [cart, goods]);\n\n  const totalPrice = goodForBuy\n    .map(good => {\n      const clearPrice = good.discount > 0\n        ? good.price - ((good.price / 100) * good.discount)\n        : good.price;\n      const currentCount = cart.find(prod => prod.id === good.id)?.count;\n\n      return clearPrice * (currentCount || 1);\n    })\n    .reduce((accum, currentValue) => currentValue + accum, 0);\n\n  const priceWithoutDiscount = goodForBuy\n    .map(good => {\n      const { price } = good;\n      const currentCount = cart.find(prod => prod.id === good.id)?.count;\n\n      return price * (currentCount || 1);\n    })\n    .reduce((accum, currentValue) => accum + currentValue, 0);\n\n  return (\n    <>\n      {cart.length === 0 && (\n        <div className=\"Cart__Empty\">\n          <h1 className=\"Cart__EmptyTitle\">\n            Cart is empty :(\n          </h1>\n          <picture>\n            <source srcSet=\"./images/emptyCart.jxr\" type=\"image/vnd.ms-photo\" />\n            <source srcSet=\"./images/emptyCart.jp2\" type=\"image/jp2\" />\n            <source srcSet=\"./images/emptyCart.webp\" type=\"image/webp\" />\n            <img\n              srcSet=\"./images/emptyCart.jpeg\"\n              alt=\"Cart is empty\"\n              className=\"Cart__EmptyImage\"\n            />\n\n          </picture>\n          <picture>\n            <source srcSet=\"./images/jxr/emptyCart.jxr\" type=\"image/vnd.ms-photo\" />\n            <source srcSet=\"./images/jp2/emptyCart.jp2\" type=\"image/jp2\" />\n            <source srcSet=\"./images/webp/emptyCart.webp\" type=\"image/webp\" />\n            <img\n              srcSet=\"./images/jpeg/emptyCart.jpeg\"\n              alt=\"Cart is empty\"\n              className=\"Cart__EmptyImage\"\n            />\n          </picture>\n          <div className=\"Cart__ButtonContainer\">\n            <Link className=\"Cart__GoShop\" to=\"/\">\n              Go to shop\n            </Link>\n          </div>\n        </div>\n      )}\n      {cart.length > 0 && (\n        <div\n          className=\"Cart container\"\n          style={{\n            height: `${checkoutContainer + (cart.length * cartGoodWidth) + (cardGap * (cart.length - 1)) + checkoutHeight + cardGap}px`,\n          }}\n        >\n          <h1 className=\"Cart__Title\">\n            Cart\n          </h1>\n          <div className=\"Cart__InfoContainer\">\n            <ul\n              className=\"Cart__List\"\n              style={{\n                height: `${cart.length * cartGoodWidth + cardGap * cart.length}px`\n              }}\n            >\n              {goodForBuy.map((good, i) => (\n                <li\n                  className=\"Cart__Item\"\n                  key={good.id}\n                  style={{\n                    transform: `translateY(${(i * cartGoodWidth) + (cardGap * i - 1)}px)`,\n                  }}\n                >\n                  <div className=\"Cart__Info\">\n                    <label\n                      className=\"Cart__Label\"\n                    >\n                      <button\n                        className=\"Cart__Remove\"\n                        onClick={() => dispatch(deleteCartGoods(good.id))}\n                        type=\"button\"\n                      />\n                    </label>\n                    <div className=\"Cart__Image-Container\">\n                      <img\n                        src={good.imageUrl}\n                        alt={good.name}\n                        className=\"Cart__Image\"\n                      />\n                    </div>\n                    <p className=\"Cart__Name\">\n                      {good.name}\n                    </p>\n                  </div>\n                  <div className=\"Cart__CountAndPrice\">\n                    <div className=\"Cart__ControlPanel\">\n                      <button\n                        type=\"button\"\n                        className=\"Cart__ChangeCount\"\n                        disabled={\n                          Boolean(cart\n                            .find(prod => prod.id === good.id && prod.count === 1)?.count)\n                        }\n                        onClick={() => dispatch(changeCount(good.id, -1))}\n                      >\n                        <span className=\"Cart__CharMinus\" />\n                      </button>\n                      <p className=\"Cart__ModelCount\">\n                        {cart.find(prod => prod.id === good.id)?.count}\n                      </p>\n                      <button\n                        type=\"button\"\n                        className=\"Cart__ChangeCount\"\n                        disabled={\n                          Boolean(cart\n                            .find(prod => prod.id === good.id && prod.count === maxForOrder)?.count)\n                        }\n                        onClick={() =>  dispatch(changeCount(good.id, 1))}\n                      >\n                        <span className=\"Cart__CharPlus\" />\n                      </button>\n                    </div>\n                    <p className=\"Cart__Price\">\n                      $\n                      {good.discount > 0\n                        ? good.price - ((good.discount / 100) * good.price)\n                        : good.price}\n                    </p>\n                    {good.discount > 0 && (\n                      <p className=\"Cart__OldPriceCard\">\n                        $\n                        {good.price}\n                      </p>\n                    )}\n                  </div>\n                </li>\n              ))}\n            </ul>\n            {cart.length > 0 && (\n              <div className=\"Cart__Checkout\">\n                <div className=\"Cart__CheckoutContainer\">\n                  <p className=\"Cart__CheckoutPrice\">\n                    $\n                    {totalPrice}\n                  </p>\n                  {priceWithoutDiscount > totalPrice && (\n                    <p className=\"Cart__OldPrice\">\n                      $\n                      {priceWithoutDiscount}\n                    </p>\n                  )}\n                  <p className=\"Cart__CheckoutTotal\">\n                    Total for\n                    {' '}\n                    {cart.length}\n                    {' '}\n                    items\n                  </p>\n                  <Link\n                    to=\"/checkout\"\n                    className=\"Cart__CheckoutButton\"\n                    onClick={() => dispatch(clearCart())}\n                  >\n                    Checkout\n                  </Link>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport './Checkout.scss';\nimport { Link } from 'react-router-dom';\n\nexport const Checkout: React.FC = () => {\n  return (\n    <div className=\"Checkout\">\n      <h1 className=\"Checkout__Title\">\n        Thank you for purchase\n      </h1>\n      <div className=\"Checkout__BackToShop\">\n        <Link className=\"Checkout__Link\" to=\"/\">\n          Go to shop\n        </Link>\n      </div>\n    </div>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n} from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport './Breadcrumbs.scss';\nimport { getGoods } from '../../store';\nimport { SECTION_LINKS, STATIC_PAGES, SERVICE_PAGES } from '../../helpers';\nimport { Icon } from '../Icon';\n\nexport const Breadcrumbs = () => {\n  const [sitemap, setSitemap] = useState<SitemapLink[]>([]);\n  const goods: Good[] = useSelector(getGoods);\n\n  const getSitemap = useCallback(\n    () => {\n      if (goods.length > 0) {\n        const generatedSitemap: SitemapLink[] = [\n          ...STATIC_PAGES,\n          ...SERVICE_PAGES,\n          ...SECTION_LINKS.map(section => ({\n            ...section,\n            children: goods\n              .filter(product => product.type === section.type)\n              .map(product => ({\n                name: product.name,\n                title: product.name,\n                url: product.id,\n              })),\n          })),\n        ];\n\n        setSitemap(generatedSitemap);\n      }\n    },\n    [goods],\n  );\n\n  useEffect(() => {\n    getSitemap();\n  }, [goods, getSitemap]);\n\n  const match: Match = useRouteMatch();\n  const levelOne = sitemap.find(item => item.url === match.params.levelOne);\n  let levelTwo = null;\n\n  if (levelOne && match.params.levelTwo) {\n    levelTwo = levelOne.children?.find((item) => item.url === match.params.levelTwo);\n  }\n\n  return (\n    <div className=\"Breadcrumbs\">\n      <ul className=\"Breadcrumbs__List\">\n        <li className=\"Breadcrumbs__Item\">\n          <Link to=\"/\" className=\"Breadcrumbs__Link\">\n            <Icon\n              name=\"home\"\n              size={1}\n              border={false}\n              inActive={false}\n            />\n          </Link>\n        </li>\n        {match.params.levelOne && (\n          <li className=\"Breadcrumbs__Item\">\n            <Link to={`/${levelOne?.url}` || ''} className=\"Breadcrumbs__Link\">\n              {levelOne?.title}\n            </Link>\n          </li>\n        )}\n        {levelTwo && (\n          <li className=\"Breadcrumbs__Item\">\n            {levelTwo?.title}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { loadGoods, getCartGoods, getFavorites } from './store';\nimport { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { GoodsSection } from './components/GoodsSection';\nimport { GoodPage } from './components/GoodPage';\nimport { HomePage } from './components/HomePage';\nimport { Favorites } from './components/Favorites';\nimport { Cart } from './components/Cart';\nimport { Checkout } from './components/Checkout';\nimport { Breadcrumbs } from './components/Breadcrumbs';\n\nexport const App = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const cart = useSelector(getCartGoods);\n  const favorites = useSelector(getFavorites);\n\n  useEffect(() => {\n    localStorage.setItem('cartItem', JSON.stringify([...cart]));\n  }, [cart]);\n\n  useEffect(() => {\n    localStorage.setItem('favoriteProducts', JSON.stringify([...favorites]));\n  }, [favorites]);\n\n  useEffect(() => {\n    dispatch(loadGoods());\n  }, [dispatch]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  return (\n    <>\n      <Header />\n      <div className=\"container content-wrapper\">\n        <Switch>\n          <Route path=\"/\" exact />\n          <Route path=\"/:levelOne?/:levelTwo?\">\n            <Breadcrumbs />\n          </Route>\n        </Switch>\n        <Switch>\n          <Route path=\"/\" exact component={HomePage} />\n          <Route path=\"/favorites\" exact component={Favorites} />\n          <Route path=\"/cart\" exact component={Cart} />\n          <Route path=\"/checkout\" exact component={Checkout} />\n          <Route path=\"/:section\" exact component={GoodsSection} />\n          <Route path=\"/:section/:good\" exact component={GoodPage} />\n        </Switch>\n      </div>\n      <Footer />\n    </>\n  );\n};\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport './style/index.scss';\nimport store from './store';\nimport { App } from './App';\n\nconst Root = () => (\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}