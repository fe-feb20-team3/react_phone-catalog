(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{22:function(e,t,a){},25:function(e,t,a){e.exports=a(49)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),s=a(3),i=a(6),l=a.n(i),m=a(10),u=a(4),_=a(2),d=(a(31),a(32),a(33),function(e){var t=e.links;return c.a.createElement("nav",{className:"Nav"},c.a.createElement("ul",{className:"Nav__List"},t.map((function(e){var t=e.name,a=e.url,n=e.exact;return c.a.createElement("li",{className:"Nav__Item",key:t},c.a.createElement(s.c,{to:a,exact:n,className:"Nav__Link",activeClassName:"Nav__Link--active"},t))}))))}),p=a(1),g=a.n(p),f=(a(39),function(){var e=Object(_.g)(),t=Object(_.h)(),a=new URLSearchParams(t.search),r=a.get("query")||"",o=Object(n.useCallback)((function(t){a.set("query",t),e.push({search:a.toString()})}),[a,e]);return c.a.createElement("form",{action:"./",className:"Search",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("label",{htmlFor:"search",className:"Search__Label"},c.a.createElement("input",{type:"text",className:"Search__Input",value:r,placeholder:"Search in phones...",onChange:function(e){var t=e.target.value;o(t)}}),c.a.createElement("button",{type:"button",className:g()({Search__Button:!0,"Search__Button--clear":!1})})))}),E=(a(40),function(e){var t=e.name,a=e.tag,n=e.size,r=void 0===n?0:n,o=e.border,s=e.inActive;return c.a.createElement("div",{className:g()("Icon Icon__Size".concat(r),{Icon__Border:o})},c.a.createElement("div",{className:g()("Icon__Image","Icon__Image--".concat(t),{"Icon__Image--inactive":s})}),a&&c.a.createElement("div",{className:"Icon__tag"},a))}),v=[{name:"Phones",title:"Mobile Phones",url:"/phones",type:"phone"},{name:"Tablets",title:"Tablets",url:"/tablets",type:"tablet"},{name:"Accessories",title:"Accessories",url:"/accessories",type:"accessories"}],b=[{name:"Github",url:"/github"},{name:"Contacts",url:"/contacts"},{name:"Rights",url:"/rights"}],N=[{alt:"First banner",path:"images/banner.jpg"},{alt:"Second banner",path:"images/banner2.jpg"},{alt:"Third banner",path:"images/banner3.jpg"}],h=[{name:"8"},{name:"12"},{name:"16"}],P="https://mate-academy.github.io/react_phone-catalog/api";function S(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat(P,"/products.json"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P,"/products/").concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=a(12),C=[{name:"Price: Low to High",field:"price",typeField:"number",type:"cheap",isReverse:!1},{name:"Price: High to Low",field:"price",typeField:"number",type:"expensive",isReverse:!0,isDefault:!0},{name:"Goods :A to Z",field:"name",typeField:"string",type:"alphabet",isReverse:!1},{name:"Goods: Z to A",field:"name",typeField:"string",type:"betalpha",isReverse:!0}],k=function(e,t){switch(t){case"hotPrice":return Object(G.a)(e).filter((function(e){return e.price&&e.discount})).sort((function(e,t){return e.discount/100*e.price-t.discount/100*t.price})).slice(0,8);case"highPrices":return Object(G.a)(e).sort((function(e,t){var a=e.price;return t.price-a})).slice(0,8);default:return e}},w=function(){return c.a.createElement("header",{className:"Header",id:"top"},c.a.createElement(s.b,{to:"/",className:"Header__Logo"},c.a.createElement("img",{src:"./img/logo.svg",alt:"Logo"})),c.a.createElement(s.c,{to:"/",exact:!0,className:"Nav__Link",activeClassName:"Nav__Link--active"},"Home"),c.a.createElement(d,{links:v}),c.a.createElement(_.b,{path:"/:section",exact:!0,component:f}),c.a.createElement(s.b,{to:"/favorites",className:"Header__Button"},c.a.createElement(E,{name:"favorites",tag:7,border:!1,inActive:!1})),c.a.createElement(s.b,{to:"/cart",className:"Header__Button"},c.a.createElement(E,{name:"shopping-bag",border:!1,inActive:!1})))},x=(a(41),function(){return c.a.createElement("footer",{className:"Footer"},c.a.createElement("div",{className:"Footer__Content container"},c.a.createElement(s.b,{to:"/",className:"Footer__Logo"},c.a.createElement("img",{src:"./images/logo.svg",alt:"Logo"})),c.a.createElement(d,{links:b}),c.a.createElement(s.b,{to:"#top",className:"Footer__Link",onClick:function(e){e.preventDefault(),window.scrollTo(0,0)}},"Back to top",c.a.createElement(E,{name:"arrow-up",size:2,border:!0,inActive:!1}))))}),L=(a(42),a(43),a(22),function(e){var t=e.text;return c.a.createElement("button",{type:"button",className:"Button Button__Primary"},t)}),A=function(e){var t=e.good,a=Object(_.i)().section;return console.log(t.imageUrl),c.a.createElement("article",{key:t.id,className:"GoodsList__Item GoodItem"},c.a.createElement(s.b,{to:"/".concat(a,"/").concat(t.id),className:"GoodItem__Link"},c.a.createElement("img",{src:t.imageUrl,alt:t.name,className:"GoodItem__Image"}),c.a.createElement("h3",{className:"GoodItem__Heading"},t.name)),c.a.createElement("section",{className:"GoodItem__Price"},c.a.createElement("span",{className:"GoodItem__Price--actual"},t.discount>0?t.price-t.price/t.discount:t.price),t.discount>0&&c.a.createElement("span",{className:"GoodItem__Price--full"},t.price)),c.a.createElement("section",{className:"GoodItem__PropsList"},c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Screen"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.screen?t.screen:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Capacity"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.capacity?t.capacity:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"RAM"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.ram?t.ram:"-"))),c.a.createElement("section",{className:"GoodItem__Buttons"},c.a.createElement("div",{className:"GoodItem__Buttons--main"},c.a.createElement(L,{text:"Add To Cart"})),c.a.createElement("div",{className:"GoodItem__Buttons--favorites"},c.a.createElement(E,{name:"favorites",border:!0,inActive:!1}))))},F=function(e){var t=e.goods;return c.a.createElement("div",{className:"GoodsList"},t.map((function(e){return c.a.createElement(A,{good:e,key:e.id})})))},H=(a(44),function(e){var t=e.qty,a=e.perPage,n=Object(_.h)(),r=Object(_.g)(),o=new URLSearchParams(n.search),s=Number(o.get("page")),i=o.get("sortBy"),l=Array(Math.ceil(t/Number(a))).fill(0,0,t).map((function(e,t){return e+t+1})),m=function(e){i&&o.set("sortBy",i),o.set("page","".concat(e)),r.push({search:o.toString()})};if(s<=0)return c.a.createElement(_.a,{to:{pathname:"".concat(n.pathname),search:"?page=1&perPage=".concat(a)}});if(s>l.length)return c.a.createElement(_.a,{to:{pathname:"".concat(n.pathname),search:"?page=".concat(l.length,"&perPage=").concat(a)}});var u=function(e){return"prev"===e&&s>1?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-left",onClick:function(){return m(s-1)}}):"prev"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-left Pagination__Button--disabled"}):"next"===e&&s<l.length?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-right",onClick:function(){return m(s+1)}}):"next"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-right Pagination__Button--disabled"}):""};return c.a.createElement("nav",{className:"Pagination"},c.a.createElement("ul",{className:"Pagination__List"},c.a.createElement("li",{className:"Pagination__Item"},u("prev")),l.map((function(e){return c.a.createElement("li",{className:"Pagination__Item",key:e},c.a.createElement("button",{type:"button",className:g()({Pagination__Button:!0,"Pagination__Button--active":e===s}),onClick:function(){return m(e)}},e))})),c.a.createElement("li",{className:"Pagination__Item"},u("next"))))}),R=function(e){var t=e.options,a=Object(_.g)(),r=Object(_.h)(),o=new URLSearchParams(r.search),s=o.get("perPage"),i=t.find((function(e){return e.name===s}))||t[0],l=Object(n.useState)(!1),m=Object(u.a)(l,2),d=m[0],p=m[1],f=function(){p(!1)};return Object(n.useEffect)((function(){d?document.documentElement.addEventListener("click",f):document.documentElement.removeEventListener("click",f)}),[d]),c.a.createElement("div",{className:g()({Select:!0,Select__Closest:!d})},c.a.createElement("label",{className:g()({"Select__Active--after":d})}),c.a.createElement("button",{type:"button",className:g()({Select__Active:!0,"Select__Active--opened":d}),onClick:function(){return p(!0)}},i.name,c.a.createElement("span",null,c.a.createElement("div",{className:g()({Select__Arrow:!0,"Select__Arrow--opened":d})}))),c.a.createElement("ul",{className:g()({Select__List:!0,"Select__List--opened":d})},t.map((function(e){return e.name!==i.name&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.name,onClick:function(){return function(e){o.set("perPage",e.name),o.set("page","1"),a.push({search:o.toString()}),p(!1)}(e)}},e.name)}))))},M=(a(45),function(e){var t=e.options,a=t.find((function(e){return e.isDefault}))||t[0],r=Object(_.g)(),o=Object(_.h)(),s=new URLSearchParams(o.search),i=Object(n.useMemo)((function(){return s.get("sortBy")||a}),[s,a]),l=Object(n.useMemo)((function(){return s.get("page")}),[s]),m=Object(n.useMemo)((function(){return s.get("perPage")}),[s]),d=t.find((function(e){return e.type===i}))||a,p=Object(n.useState)(!1),f=Object(u.a)(p,2),E=f[0],v=f[1],b=function(){v(!1)};return Object(n.useEffect)((function(){E?document.documentElement.addEventListener("click",b):document.documentElement.removeEventListener("click",b)}),[E]),c.a.createElement("div",{className:g()({Select:!0,Select__Closest:!E})},c.a.createElement("label",{className:g()({"Select__Active--after":E})}),c.a.createElement("button",{type:"button",className:g()({Select__Active:!0,"Select__Active--opened":E}),onClick:function(){return v(!0)}},d.name,c.a.createElement("span",null,c.a.createElement("div",{className:g()({Select__Arrow:!0,"Select__Arrow--opened":E})}))),c.a.createElement("ul",{className:g()({Select__List:!0,"Select__List--opened":E})},t.map((function(e){return e.type!==d.type&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.type,onClick:function(){return function(e){s.set("sortBy",e.type),l&&s.set("page",l),m&&s.set("perPage",m),r.push({search:s.toString()}),v(!1)}(e)}},e.name)}))))}),T=function(e){var t,a,r=e.goods,o=Object(_.g)(),s=Object(_.h)(),i=new URLSearchParams(s.search),l=(null===(t=i.get("query"))||void 0===t?void 0:t.toLowerCase())||"",m=Number(i.get("page")),u=h[0].name,d=Object(n.useMemo)((function(){return i.get("perPage")}),[i]),p=Number(u);h.find((function(e){return e.name===d}))?p=Number(null===(a=h.find((function(e){return e.name===d})))||void 0===a?void 0:a.name):(i.set("perPage",u),o.push({search:i.toString()}));var g=i.get("sortBy"),f=C.find((function(e){return e.type===g}))||C[1];f||(i.set("sortBy",C[1].type),o.push({search:i.toString()}));var E=Object(_.i)().section,b=v.find((function(e){return e.url==="/".concat(E)})),N=Object(n.useMemo)((function(){return r.filter((function(e){return e.type===(null===b||void 0===b?void 0:b.type)}))}),[r,b]),P=Object(n.useMemo)((function(){return N.filter((function(e){return"".concat(e.name," ").concat(e.snippet).toLowerCase().includes(l)}))}),[l,N]),S=Object(n.useMemo)((function(){return function(e,t){return"number"===t.typeField?Object(G.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return(Number(e[t.field])-Number(a[t.field]))*n})):"string"===t.typeField?Object(G.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return String(e[t.field]).localeCompare(String(a[t.field]))*n})):e}(P,f)}),[P,f]).slice((m||1)*p-p,(m||1)*p);return c.a.createElement("section",{className:"section GoodsSection"},c.a.createElement("h1",{className:"GoodsSection__Heading"},(null===b||void 0===b?void 0:b.title)||(null===b||void 0===b?void 0:b.name)),c.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(N.length," models")),c.a.createElement("div",{className:"GoodsSection__Control"},N.length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"GoodsSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Sort by"),c.a.createElement(M,{options:C})),c.a.createElement("div",{className:"GoodSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),c.a.createElement(R,{options:h})))),c.a.createElement("div",{className:"GoodsSection__Container"},c.a.createElement(F,{goods:S})),N.length>p&&c.a.createElement("div",{className:"Pagination"},c.a.createElement(H,{qty:P.length,perPage:p})))},U=a(13),D=(a(46),function(e){var t=e.goods,a=Object(_.i)().good,r=Object(n.useState)(),o=Object(u.a)(r,2),s=o[0],i=o[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),g=p[0],f=p[1],v=Object(n.useState)(!1),b=Object(u.a)(v,2),N=b[0],h=b[1],P=Object(n.useState)(!1),S=Object(u.a)(P,2),y=S[0],j=S[1],O=Object(n.useState)(0),I=Object(u.a)(O,2),G=I[0],C=I[1],k=function(){var e=Object(m.a)(l.a.mark((function e(a){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),f(""),e.prev=2,e.next=5,B(a);case 5:n=e.sent,c=t.find((function(e){return e.id===a})),r=Object(U.a)(Object(U.a)({},n),c),i(r),j(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(String(e.t0));case 15:h(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){k(a)}),[a]);return c.a.createElement("section",{className:"section"},g&&c.a.createElement("div",null,g),N&&y&&"",s&&c.a.createElement("article",{className:"GoodPage"},c.a.createElement("h1",{className:"GoodPage__Heading"},s.name),c.a.createElement("div",{className:"GoodPage__Content"},c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Images"},c.a.createElement("ul",{className:"GoodPage__ImageList"},s.images.map((function(e,t){return c.a.createElement("li",{className:"GoodPage__ImageItem",key:e},c.a.createElement("a",{href:"./#",onClick:function(e){return function(e,t){e.preventDefault(),C(t)}(e,t)}},c.a.createElement("img",{src:e,alt:s.name,className:"GoodPage__Image"})))}))),c.a.createElement("img",{src:s.images[G],alt:s.name,className:"GoodPage__ImageBig"}))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__NarrowBlock"},c.a.createElement("div",{className:"GoodPage__Price"},c.a.createElement("span",{className:"GoodPage__Price--actual"},a.discount>0?a.price-a.price/a.discount:a.price),a.discount>0&&c.a.createElement("span",{className:"GoodPage__Price--full"},a.price)),c.a.createElement("div",{className:"GoodPage__Buttons"},c.a.createElement("div",{className:"GoodPage__Buttons--main"},c.a.createElement(L,{text:"Add To Cart"})),c.a.createElement("div",{className:"GoodPage__Buttons--favorites"},c.a.createElement(E,{name:"favorites",border:!0,inActive:!1}))))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Description"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"About"),s.description)),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__TechSpecs"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"Tech specs"),c.a.createElement("ul",null,c.a.createElement("li",null,"1")))))))}),q=(a(47),function(){var e=N.map((function(e,t){return Object(U.a)(Object(U.a)({},e),{},{position:t+1})})),t=Object(n.useState)(1),a=Object(u.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(0),i=Object(u.a)(s,2),l=i[0],m=i[1],_=function(t){var a=1056*-t;return r===e.length&&1===t?(o(1),void m(0)):1===r&&-1===t?(o(e.length),void m(1056*t*(e.length-1))):(o(r+t),void m(l+a))};return c.a.createElement("div",{className:"Banner"},c.a.createElement("div",{className:"Banner__Slider"},c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return _(-1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-left"})),c.a.createElement("div",{className:"Banner__Container"},c.a.createElement("ul",{className:"Banner__Content",style:{transform:"translateX(".concat(l,"px)")}},e.map((function(e){return c.a.createElement("li",{className:"Banner__Content-image",key:e.position},c.a.createElement("img",{src:e.path,alt:e.alt,className:"Banner__Image-current"}))})))),c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return _(1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-right"}))),c.a.createElement("div",{className:"Banner__Position-container"},e.map((function(e){return c.a.createElement("span",{key:e.position,className:g()({Banner__Position:!0,"Banner__Position--active":e.position===r}),onClick:function(){return function(e){if(1===e)return m(0),void o(1);m(-1*(1040*(e-1)+16*(e-1))),o(e)}(e.position)}})}))))}),z=(a(48),function(e){var t=e.cards,a=e.title,r=Object(n.useState)(0),o=Object(u.a)(r,2),s=o[0],i=o[1],l=t.length,m=Object(n.useState)(4),_=Object(u.a)(m,2),d=_[0],p=_[1],f=function(e){i(s+288*-e),p(d+e)};return c.a.createElement("div",{className:"Card__Container",style:{width:"".concat(1136,"px")}},c.a.createElement("div",{className:"Card__Title-site"},c.a.createElement("div",null,c.a.createElement("h2",{className:"Card__Title"},a)),c.a.createElement("div",{className:"Card__Buttons"},c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return f(-1)},disabled:4===d},c.a.createElement("div",{className:g()({"Card__Button--arrow-left":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":4===d})})),c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return f(1)},disabled:d===l},c.a.createElement("div",{className:g()({"Card__Button--arrow-right":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":d===l})})))),c.a.createElement("ul",{className:"Card",style:{transform:"translateX(".concat(s,"px)")}},t.map((function(e){return c.a.createElement("li",{key:e.id,className:"Card__Item",style:{width:"".concat(272,"px")}},c.a.createElement(A,{good:e}))}))))}),J=function(e){var t=e.goods,a=k(t,"hotPrice"),n=k(t,"highPrices");return c.a.createElement(c.a.Fragment,null,c.a.createElement(q,null),c.a.createElement(z,{cards:a,title:"Hot prices"}),c.a.createElement(z,{cards:n,title:"Brand new models"}))},X=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),i=s[0],d=s[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(!1),b=Object(u.a)(v,2),N=b[0],h=b[1],P=function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),d(""),e.prev=2,e.next=5,j();case 5:t=e.sent,r(t),h(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),d(String(e.t0));case 13:E(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("div",{className:"container"},i&&c.a.createElement("div",null,i),f&&N&&"",c.a.createElement(_.d,null,c.a.createElement(_.b,{path:"/",exact:!0,render:function(){return c.a.createElement(J,{goods:a})}}),c.a.createElement(_.b,{path:"/:section",exact:!0,render:function(){return c.a.createElement(T,{goods:a})}}),c.a.createElement(_.b,{path:"/:section/:good",exact:!0,render:function(){return c.a.createElement(D,{goods:a})}}))),c.a.createElement(x,null))};o.a.render(c.a.createElement(s.a,null,c.a.createElement(X,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.1200baa5.chunk.js.map