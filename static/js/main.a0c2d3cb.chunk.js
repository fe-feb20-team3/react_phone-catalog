(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(29).concat([function(e,t,a){},,,,,function(e,t,a){e.exports=a(67)},,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(2),o=a(22),l=a.n(o),i=a(1),s=(a(43),a(11)),m=a.n(s),u=a(16),d=a(17),_=a(31),f=a(9),E={isLoading:!1,isLoaded:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0});case"FINISH_LOADING":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1});case"SET_LOADED":return Object(f.a)(Object(f.a)({},e),{},{isLoaded:!0});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR_MESSAGE":return t.errorMessage;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GOODS":return t.goods;default:return e}},b=a(7),N=function(e){return{type:"SET_FAVORITE",favorite:e}},h=function(e){return{type:"REMOVE_FAVORITE",id:e}},O=[];localStorage.getItem("favoriteProducts")&&(O=Object(b.a)(JSON.parse(localStorage.getItem("favoriteProducts")||"")));var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE":return[].concat(Object(b.a)(e),[t.favorite]);case"REMOVE_FAVORITE":return e.filter((function(e){return e!==t.id}));default:return e}},y=function(e){return{type:"DELETE_GOODS_FROM_CART",id:e}},j=function(e,t){return{type:"CHANGE_COUNT",id:e,path:t}},C=[];localStorage.getItem("cartItem")&&(C=Object(b.a)(JSON.parse(localStorage.getItem("cartItem")||"")));var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CART_GOODS":return[].concat(Object(b.a)(e),[{id:t.id,count:1}]);case"DELETE_GOODS_FROM_CART":return e.filter((function(e){return e.id!==t.id}));case"CHANGE_COUNT":return e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{count:t.id===e.id?e.count+t.path:e.count})}));case"CLEAR_CART":return[];case"SET_FROM_LOCALSTORAGE":return t.info;default:return e}},P="https://mate-academy.github.io/react_phone-catalog/api";function k(e){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat(P,"/products.json"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P,"/products/").concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,R=Object(d.c)({loading:p,errorMessage:g,goods:v,favorites:S,cart:I}),x=function(e){return e.goods},F=function(e){return e.favorites},M=function(e){return e.cart},D=Object(d.e)(R,A(Object(d.a)(_.a))),H=a(8),U=(a(45),a(46),function(e){var t=e.links,a=e.className;return c.a.createElement("nav",{className:"Nav ".concat(a||"")},c.a.createElement("ul",{className:"Nav__List"},t.map((function(e){var t=e.name,a=e.url,n=e.exact,r=e.external;return c.a.createElement("li",{className:"Nav__Item",key:t},r&&c.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"Nav__Link"},t),!r&&c.a.createElement(i.c,{to:"/".concat(a),exact:n,className:"Nav__Link",activeClassName:"Nav__Link--active"},t))}))))}),z=a(3),q=a(4),V=a.n(q),J=(a(48),[{alt:"First banner",path:"images/banner.jpg"},{alt:"Second banner",path:"images/banner2.jpg"},{alt:"Third banner",path:"images/banner3.jpg"}]),X=[{name:"4"},{name:"8"},{name:"12"},{name:"16"}],Y="hotPrice",Z="alsoLike",$="newModels",Q=[{name:"Screen",order:"info"},{name:"Resolution",order:"detail"},{name:"Processor",order:"detail"},{name:"RAM",order:"info"}],W=[{name:"Screen",order:"info"},{name:"Resolution",order:"detail"},{name:"Processor",order:"detail"},{name:"RAM",order:"info"},{name:"Built in memory",order:"info"},{name:"Camera",order:"detail"},{name:"Zoom",order:"detail"},{name:"Cell",order:"detail"}],K=[{name:"Price: Low to High",field:"price",typeField:"number",type:"cheap",isReverse:!1},{name:"Price: High to Low",field:"price",typeField:"number",type:"expensive",isReverse:!0,isDefault:!0},{name:"Goods: A to Z",field:"name",typeField:"string",type:"alphabet",isReverse:!1},{name:"Goods: Z to A",field:"name",typeField:"string",type:"betalpha",isReverse:!0},{name:"Newest",field:"age",typeField:"number",type:"newest",isReverse:!1},{name:"Oldest",field:"age",typeField:"number",type:"oldest",isReverse:!0}],ee=function(e,t,a){switch(t){case Y:return Object(b.a)(e).filter((function(e){return e.price&&e.discount})).sort((function(e,t){var a=e.discount/100*e.price;return t.discount/100*t.price-a})).slice(0,8);case Z:return Object(b.a)(e).sort((function(){return Math.random()-.5})).filter((function(e){return e.id!==a})).slice(0,8);case $:return Object(b.a)(e).sort((function(e,t){return e.age-t.age})).slice(0,8);default:return e}},te=function(e,t,a,n){var c="";if("info"===n)switch(a){case"Screen":c=e.screen;break;case"RAM":c=e.ram;break;case"Built in memory":c=e.capacity}if("detail"===n)switch(a){case"Resolution":c=t.display.screenResolution;break;case"Processor":c=t.hardware.cpu;break;case"Camera":c=t.camera.primary;break;case"Zoom":c=t.camera.zoom;break;case"Cell":c=t.connectivity.cell}return c||"No info"},ae=[{name:"Phones",title:"Mobile Phones",url:"phone",type:"phone",imgUrl:"images/category/phones.png"},{name:"Tablets",title:"Tablets",url:"tablet",type:"tablet",imgUrl:"images/category/tablets.png"},{name:"Accessories",title:"Phone and Tablet Accessories",url:"accessories",type:"accessories",imgUrl:"images/category/accessoires.png"}],ne=[{name:"Phone Store",title:"Phone Store",url:"/"},{name:"GitHub",url:"http://localhost:3000/#/phones/https://github.com/fe-feb20-team3",external:!0}],ce=[{name:"Cart",title:"Cart",url:"cart"},{name:"Favorites",title:"Favorite Products",url:"favorites"}],re=[{name:"Github",url:"https://github.com/fe-feb20-team3",external:!0},{name:"Contacts",url:"contacts"},{name:"Rights",url:"rights"}],oe=function(){var e=Object(H.g)(),t=Object(H.h)(),a=Object(H.i)().section,r=ae.some((function(e){return e.url===a})),o=new URLSearchParams(t.search),l=o.get("query")||"",i=Object(n.useState)(l),s=Object(z.a)(i,2),m=s[0],u=s[1],d=Object(n.useRef)(null);Object(n.useEffect)((function(){""===l&&d.current&&d.current.focus()}),[l]);var _=Object(n.useCallback)(function(e,t){var a;return function(){var n;clearTimeout(a);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];a=(n=window).setTimeout.apply(n,[e,t].concat(r))}}((function(t){""===t?o.delete("query"):o.set("query",t),o.set("page","1"),e.push({search:o.toString()})}),1e3),[]);return c.a.createElement("div",{className:"Search"},r&&c.a.createElement("form",{action:"./",className:"Search__Form",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("label",{htmlFor:"search-field",className:"Search__Label"},c.a.createElement("input",{id:"search-field",type:"text",className:"Search__Input",value:m,placeholder:"Search in phones...",ref:d,onChange:function(e){var t=e.target.value;_(t),u(t)}}),c.a.createElement("button",{type:"button",className:V()({Search__Button:!0,"Search__Button--clear":m.length>0}),onClick:function(){o.delete("query"),e.push({search:o.toString()}),_(""),u("")}}))))},le=(a(49),function(e){var t=e.name,a=e.tag,n=e.size,r=void 0===n?0:n,o=e.border,l=e.inActive;return c.a.createElement("div",{className:V()("Icon Icon--size".concat(r),{Icon__Border:o})},c.a.createElement("div",{className:V()("Icon__Image","Icon__Image--".concat(t),"Icon__Image--size".concat(r),{"Icon__Image--inactive":l})}),Number(a)>0&&c.a.createElement("div",{className:"Icon__Tag Icon__Tag--size".concat(r)},a))}),ie=(a(50),function(){var e=Object(H.h)(),t=Object(n.useState)(!1),a=Object(z.a)(t,2),o=a[0],l=a[1],s=Object(r.c)(F),m=Object(r.c)(M);return Object(n.useEffect)((function(){l(!1)}),[e]),c.a.createElement("nav",{className:"NavSliding"},c.a.createElement("button",{type:"button",className:V()("NavSliding__Button",{"NavSliding__Button--cross":o}),onClick:function(){l(!o)}},c.a.createElement("span",{className:"NavSliding__ButtonLine"}),c.a.createElement("span",{className:"NavSliding__ButtonLine"})),c.a.createElement("section",{className:V()("NavSliding__Block",{show:o})},c.a.createElement("div",{className:"NavSliding__Illustration",onClick:function(){return l(!1)}}),c.a.createElement("div",{className:"NavSliding__Content"},c.a.createElement("ul",{className:"NavSliding__List--secondary NavSliding__List--icons"},c.a.createElement("li",{className:"NavSliding__Item--secondary"},c.a.createElement(i.b,{to:"/favorites",className:"NavSliding__Icon"},c.a.createElement(le,{name:"favorites",tag:s.length,size:3,border:!1,inActive:!1}))),c.a.createElement("li",{className:"NavSliding__Item--secondary"},c.a.createElement(i.b,{to:"/cart",className:"NavSliding__Icon"},c.a.createElement(le,{name:"shopping-bag",tag:m.length,size:3,border:!1,inActive:!1})))),c.a.createElement("ul",{className:"NavSliding__List"},c.a.createElement("li",{className:"NavSliding__Item"},c.a.createElement(i.b,{to:"/",className:"NavSliding__Link NavSliding__Link--primary"},"Home")),ae.map((function(e){var t=e.name,a=e.url;return c.a.createElement("li",{className:"NavSliding__Item",key:t},c.a.createElement(i.b,{to:"/".concat(a),className:"NavSliding__Link NavSliding__Link--primary"},t))}))),c.a.createElement("ul",{className:"NavSliding__List--secondary"},re.map((function(e){var t=e.name,a=e.url;return c.a.createElement("li",{className:"NavSliding__Item--secondary",key:t},c.a.createElement(i.b,{to:a,className:"NavSliding__Link NavSliding__Link--secondary"},t))}))))))}),se=function(){var e=Object(r.c)(F),t=Object(r.c)(M);return c.a.createElement("header",{className:"Header",id:"top"},c.a.createElement(i.b,{to:"/",className:"Header__Logo"},c.a.createElement("img",{src:"./img/logo.svg",alt:"Logo"})),c.a.createElement("div",{className:"Header__HomeLink"},c.a.createElement(i.c,{to:"/",exact:!0,className:"Nav__Link",activeClassName:"Nav__Link--active"},"Home")),c.a.createElement(U,{links:ae,className:"Header__Nav"}),c.a.createElement("div",{className:"Header__Search"},c.a.createElement(H.b,{path:"/:section",exact:!0,component:oe})),c.a.createElement(i.b,{to:"/favorites",className:"Header__Button"},c.a.createElement(le,{name:"favorites",tag:e.length,border:!1,inActive:!1})),c.a.createElement(i.b,{to:"/cart",className:"Header__Button"},c.a.createElement(le,{name:"shopping-bag",tag:t.length,border:!1,inActive:!1})),c.a.createElement(ie,null))},me=(a(51),a(52),function(){var e=Object(n.useState)(!1),t=Object(z.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){document.addEventListener("scroll",(function(){document.documentElement.getBoundingClientRect().top<=-200?r(!0):r(!1)}))})),c.a.createElement("div",{className:V()({BackToTop:!0,"BackToTop--visible":a})},c.a.createElement(i.b,{to:"#top",className:"BackToTop__Link",onClick:function(e){e.preventDefault(),window.scrollTo(0,0)}},c.a.createElement(le,{name:"arrow-up",size:2,border:!1,inActive:!1})))}),ue=function(){return c.a.createElement("footer",{className:"Footer"},c.a.createElement("div",{className:"Footer__Content container"},c.a.createElement(i.b,{to:"/",className:"Footer__Logo"},c.a.createElement("img",{src:"./images/logo.svg",alt:"Logo"})),c.a.createElement(U,{links:re,className:"Footer__Nav"}),c.a.createElement(me,null)))},de=a(15),_e=(a(53),a(54),a(29),function(e){var t=e.id,a=Object(r.b)(),n=Object(r.c)(M).some((function(e){return e.id===t}));return c.a.createElement("button",{type:"button",className:V()({Button:!0,Button__Primary:!0,"Button__Primary--selected":n}),onClick:function(){a(n?y(t):function(e){return{type:"SET_CART_GOODS",id:e}}(t))}},n?"Remove from cart":"Add to cart")}),fe=function(e){var t=e.good,a=Object(r.c)(F),o=Object(r.b)(),l=Object(n.useMemo)((function(){return function(e){return a.some((function(t){return t===e}))}}),[a]);return c.a.createElement("article",{key:t.id,className:"GoodsList__Item GoodItem"},c.a.createElement(i.b,{to:"/".concat(t.type,"/").concat(t.id),className:"GoodItem__Link"},c.a.createElement("img",{src:t.imageUrl,alt:t.name,className:"GoodItem__Image"}),c.a.createElement("h3",{className:"GoodItem__Heading"},t.name)),c.a.createElement("section",{className:"GoodItem__Price"},c.a.createElement("span",{className:"GoodItem__Price--actual"},t.discount>0?t.price-t.price/100*t.discount:t.price),t.discount>0&&c.a.createElement("span",{className:"GoodItem__Price--full"},t.price)),c.a.createElement("section",{className:"GoodItem__PropsList"},c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Screen"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.screen?t.screen:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Capacity"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.capacity?t.capacity:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"RAM"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.ram?t.ram:"-"))),c.a.createElement("section",{className:"GoodItem__Buttons"},c.a.createElement("div",{className:"GoodItem__Buttons--main"},c.a.createElement(_e,{id:t.id})),c.a.createElement("label",{onClick:function(){return e=t,void(a.some((function(t){return t===e.id}))?o(h(e.id)):o(N(e.id)));var e}},c.a.createElement(le,{name:l(t.id)?"favorites-filled":"favorites",border:!0,inActive:!1}))))},Ee=function(e){var t=e.goods;return c.a.createElement("div",{className:"GoodsList"},t.map((function(e){return c.a.createElement(fe,{good:e,key:e.id})})))},pe=(a(55),function(e){var t=e.qty,a=e.perPage,n=Object(H.h)(),r=Object(H.g)(),o=new URLSearchParams(n.search),l=Number(o.get("page"));if(l<=0)return c.a.createElement(H.a,{to:{pathname:"".concat(n.pathname),search:"?page=1&perPage=".concat(a)}});var i=o.get("sortBy"),s=Array(Math.ceil(t/Number(a))).fill(0,0,t).map((function(e,t){return e+t+1})),m=function(e){i&&o.set("sortBy",i),o.set("page","".concat(e)),r.push({search:o.toString()})};if(l<=0)return c.a.createElement(H.a,{to:{pathname:"".concat(n.pathname),search:"?page=1&perPage=".concat(a)}});if(l>s.length)return c.a.createElement(H.a,{to:{pathname:"".concat(n.pathname),search:"?page=".concat(s.length,"&perPage=").concat(a)}});var u=function(e){return"prev"===e&&l>1?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-left",onClick:function(){return m(l-1)}}):"prev"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-left Pagination__Button--disabled"}):"next"===e&&l<s.length?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-right",onClick:function(){return m(l+1)}}):"next"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-right Pagination__Button--disabled"}):""};return c.a.createElement("nav",{className:"Pagination"},c.a.createElement("ul",{className:"Pagination__List"},c.a.createElement("li",{className:"Pagination__Item"},u("prev")),s.map((function(e){return c.a.createElement("li",{className:"Pagination__Item",key:e},c.a.createElement("button",{type:"button",className:V()({Pagination__Button:!0,"Pagination__Button--active":e===l}),onClick:function(){return m(e)}},e))})),c.a.createElement("li",{className:"Pagination__Item"},u("next"))))}),ge=function(e){var t=e.options,a=Object(H.g)(),r=Object(H.h)(),o=new URLSearchParams(r.search),l=o.get("perPage"),i=t.find((function(e){return e.name===l}))||t[0],s=Object(n.useState)(!1),m=Object(z.a)(s,2),u=m[0],d=m[1],_=function(){d(!1)};return Object(n.useEffect)((function(){u?document.documentElement.addEventListener("click",_):document.documentElement.removeEventListener("click",_)}),[u]),c.a.createElement("div",{className:V()({Select:!0,Select__Closest:!u})},c.a.createElement("label",{className:V()({"Select__Active--after":u})}),c.a.createElement("button",{type:"button",className:V()({Select__Active:!0,"Select__Active--opened":u}),onClick:function(){return d(!0)}},i.name,c.a.createElement("span",null,c.a.createElement("div",{className:V()({Select__Arrow:!0,"Select__Arrow--opened":u})}))),c.a.createElement("ul",{className:V()({Select__List:!0,"Select__List--opened":u})},t.map((function(e){return e.name!==i.name&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.name,onClick:function(){return function(e){o.set("perPage",e.name),o.set("page","1"),a.push({search:o.toString()}),d(!1)}(e)}},e.name)}))))},ve=(a(56),function(){return c.a.createElement("div",{className:"NotAvailable"},c.a.createElement("img",{src:"images/notAvailable.jpg",alt:"Goods not found",className:"NotAvailable__Image"}))}),be=(a(57),function(e){var t=e.options,a=t.find((function(e){return e.isDefault}))||t[0],r=Object(H.g)(),o=Object(H.h)(),l=new URLSearchParams(o.search),i=Object(n.useMemo)((function(){return l.get("sortBy")||a}),[l,a]),s=Object(n.useMemo)((function(){return l.get("perPage")}),[l]),m=t.find((function(e){return e.type===i}))||a,u=Object(n.useState)(!1),d=Object(z.a)(u,2),_=d[0],f=d[1],E=function(){f(!1)};return Object(n.useEffect)((function(){_?document.documentElement.addEventListener("click",E):document.documentElement.removeEventListener("click",E)}),[_]),c.a.createElement("div",{className:V()({Select:!0,Select__Closest:!_})},c.a.createElement("label",{className:V()({"Select__Active--after":_})}),c.a.createElement("button",{type:"button",className:V()({Select__Active:!0,"Select__Active--opened":_}),onClick:function(){return f(!0)}},m.name,c.a.createElement("span",null,c.a.createElement("div",{className:V()({Select__Arrow:!0,"Select__Arrow--opened":_})}))),c.a.createElement("ul",{className:V()({Select__List:!0,"Select__List--opened":_})},t.map((function(e){return e.type!==m.type&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.type,onClick:function(){return function(e){l.set("sortBy",e.type),l.set("page","1"),s&&l.set("perPage",s),r.push({search:l.toString()}),f(!1)}(e)}},e.name)}))))}),Ne=(a(58),function(){return c.a.createElement("div",{className:"NotFound"},c.a.createElement("img",{src:"images/notFound.jpg",alt:"Goods not found",className:"NotFound__Image"}))}),he=function(){var e,t,a=Object(r.c)(x),o=Object(H.g)(),l=Object(H.h)(),i=new URLSearchParams(l.search),s=(null===(e=i.get("query"))||void 0===e?void 0:e.toLowerCase())||"",m=Number(i.get("page")),u=Object(z.a)(X,1)[0],d=Object(n.useMemo)((function(){return i.get("perPage")}),[i]),_=Number(u.name);X.find((function(e){return e.name===d}))?_=Number(null===(t=X.find((function(e){return e.name===d})))||void 0===t?void 0:t.name):(i.set("perPage",u.name),o.push({search:i.toString()}));var f=i.get("sortBy"),E=K.find((function(e){return e.type===f}))||K[1];E||(i.set("sortBy",K[1].type),o.push({search:i.toString()}));var p=Object(H.i)().section,g=ae.find((function(e){return e.url===p})),v=Object(n.useMemo)((function(){return a.filter((function(e){return e.type===(null===g||void 0===g?void 0:g.type)}))}),[a,g]),N=Object(n.useMemo)((function(){return v.filter((function(e){return"".concat(e.name," ").concat(e.snippet).toLowerCase().includes(s)}))}),[s,v]),h=Object(n.useMemo)((function(){return function(e,t){return"number"===t.typeField?Object(b.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return(Number(e[t.field])-Number(a[t.field]))*n})):"string"===t.typeField?Object(b.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return String(e[t.field]).localeCompare(String(a[t.field]))*n})):e}(N,E)}),[N,E]),O=h.slice((m||1)*_-_,(m||1)*_);return h.length<_&&m>1?c.a.createElement(H.a,{to:{pathname:"".concat(l.pathname),search:"?page=1&perPage=".concat(_)}}):c.a.createElement(c.a.Fragment,null,0===v.length&&c.a.createElement(ve,null),v.length>0&&0===N.length&&c.a.createElement(Ne,null),h.length>=1&&c.a.createElement("section",{className:"section GoodsSection"},c.a.createElement(de.a,null,c.a.createElement("title",null,(null===g||void 0===g?void 0:g.title)||(null===g||void 0===g?void 0:g.name)),c.a.createElement("meta",{name:"description",content:"".concat((null===g||void 0===g?void 0:g.title)||(null===g||void 0===g?void 0:g.name)," - Mobile Store")})),c.a.createElement("h1",{className:"GoodsSection__Heading"},(null===g||void 0===g?void 0:g.title)||(null===g||void 0===g?void 0:g.name)),c.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(v.length," models")),c.a.createElement("div",{className:"GoodsSection__Control"},v.length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"GoodsSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Sort by"),c.a.createElement(be,{options:K})),c.a.createElement("div",{className:"GoodSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),c.a.createElement(ge,{options:X})))),c.a.createElement("div",{className:"GoodsSection__Container"},c.a.createElement(Ee,{goods:O})),N.length>_&&c.a.createElement("div",{className:"Pagination"},c.a.createElement(pe,{qty:N.length,perPage:_}))))},Oe=(a(59),function(e){var t=e.goodInfo,a=e.goodDetail;return c.a.createElement("ul",{className:"GoodPage__InfoList"},Q.map((function(e){return c.a.createElement("li",{className:"GoodPage__InfoItem",key:e.name},c.a.createElement("p",{className:"GoodPage__InfoTitle"},e.name),c.a.createElement("p",{className:"GoodPage__InfoFeature"},t&&te(t,a,e.name,e.order)))})))}),Se=function(e){var t=e.goodInfo,a=e.goodDetail;return c.a.createElement("ul",{className:"GoodPage__SpecsList"},W.map((function(e){return c.a.createElement("li",{className:"GoodPage__SpecsItem",key:e.name},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},e.name),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},t&&te(t,a,e.name,e.order)))})))},ye=(a(60),function(e){var t=e.goods,a=e.title,r=Object(n.useState)(0),o=Object(z.a)(r,2),l=o[0],i=o[1],s=Object(n.useRef)(null),m=Object(n.useState)(4),u=Object(z.a)(m,2),d=u[0],_=u[1],f=Object(n.useState)(272),E=Object(z.a)(f,2),p=E[0],g=E[1],v=t.length,b=Object(n.useState)(d),N=Object(z.a)(b,2),h=N[0],O=N[1],S=function(e){i(l+(p+16)*-e),O(h+e)};return Object(n.useEffect)((function(){var e,t=(null===(e=s.current)||void 0===e?void 0:e.offsetWidth)||0,a=Math.floor(t/p),n=(t-16*(a-1))/a;_(a),O(a),i(0),g(n)}),[s,p]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Card__Container",ref:s},c.a.createElement("div",{className:"Card__Title-site"},c.a.createElement("div",null,c.a.createElement("h2",{className:"Card__Title"},a)),c.a.createElement("div",{className:"Card__Buttons"},c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return S(-1)},disabled:h===d},c.a.createElement("div",{className:V()({"Card__Button--arrow-left":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":h===d})})),c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return S(1)},disabled:h===v},c.a.createElement("div",{className:V()({"Card__Button--arrow-right":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":h===v})})))),c.a.createElement("ul",{className:"Card",style:{transform:"translateX(".concat(l,"px)")}},t.map((function(e){return c.a.createElement("li",{key:e.id,className:"Card__Item",style:{width:"".concat(p,"px")}},c.a.createElement(fe,{good:e}))})))))}),je=(a(61),function(){return c.a.createElement("div",{className:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}),Ce=function(){var e=Object(r.c)(x),t=Object(H.i)().good,a=Object(H.j)(),o=Object(n.useState)(),l=Object(z.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)(),_=Object(z.a)(d,2),E=_[0],p=_[1],g=Object(n.useState)(""),v=Object(z.a)(g,2),b=v[0],O=v[1],S=Object(n.useState)(!1),y=Object(z.a)(S,2),j=y[0],C=y[1],I=Object(n.useState)(!1),P=Object(z.a)(I,2),k=P[0],G=P[1],B=Object(n.useState)(0),L=Object(z.a)(B,2),T=L[0],A=L[1],R=Object(r.c)(F),M=Object(r.b)(),D=Object(n.useMemo)((function(){return function(e){return R.some((function(t){return t===e}))}}),[R]),U=e.find((function(e){return i&&e.id===i.id})),q=ee(e,"hotPrice",""),J=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),O(""),e.prev=2,e.next=5,w(t);case 5:a=e.sent,n=Object(f.a)({},a),s(n),G(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),O(String(e.t0));case 14:C(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(e.length){var t=e.find((function(e){return e.id===a.params.good}));p(t)}}),[e,a.params.good]),Object(n.useEffect)((function(){J(t)}),[t]);var X=Object(n.useMemo)((function(){return E&&E.discount>0?E.price-E.price/100*E.discount:E&&E.price}),[E]);if("undefined"===a.params.section&&e&&U){var Y=ae.find((function(e){return e.type===U.type}));if(Y)return c.a.createElement(H.a,{to:"/".concat(Y.url,"/").concat(a.params.good)})}return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"section"},b&&c.a.createElement("div",null,b),j&&c.a.createElement("div",{className:"GoodPage__Loading"},c.a.createElement(je,null)),j&&k&&"",i&&c.a.createElement("article",{className:"GoodPage"},c.a.createElement(de.a,null,c.a.createElement("title",null,i.name),c.a.createElement("meta",{name:"description",content:"".concat(i.name," - Mobile Store")})),c.a.createElement("h1",{className:"GoodPage__Heading"},i.name),c.a.createElement("div",{className:"GoodPage__Content"},c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Images"},c.a.createElement("ul",{className:"GoodPage__ImageList"},i.images.map((function(e,t){return c.a.createElement("li",{className:V()({"GoodPage__Image--current":t===T},"GoodPage__ImageItem"),key:e},c.a.createElement("a",{href:"./#",onClick:function(e){return function(e,t){e.preventDefault(),A(t)}(e,t)}},c.a.createElement("img",{src:e,alt:i.name,className:"GoodPage__Image"})))}))),c.a.createElement("img",{src:i.images[T],alt:i.name,className:"GoodPage__ImageBig"}))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("span",{className:"GoodPage__Id"},"ID:"," ",E&&E.id),c.a.createElement("section",{className:"GoodPage__NarrowBlock"},c.a.createElement("div",{className:"GoodPage__Price"},c.a.createElement("span",{className:"GoodPage__Price--actual"},X),E&&E.discount>0&&c.a.createElement("span",{className:"GoodPage__Price--full"},E.price)),c.a.createElement("div",{className:"GoodPage__Buttons"},c.a.createElement("div",{className:"GoodPage__Buttons--main"},c.a.createElement(_e,{id:a.params.good})),c.a.createElement("div",{className:"GoodPage__Buttons--favorites"},c.a.createElement("label",{onClick:function(){return e=t,void(R.some((function(t){return t===e}))?M(h(e)):M(N(e)));var e}},c.a.createElement(le,{name:D(t)?"favorites-filled":"favorites",border:!0,inActive:!1}))))),c.a.createElement("section",{className:"GoodPage__Info"},c.a.createElement(Oe,{goodDetail:i,goodInfo:E}))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Description"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"About"),E&&E.snippet,c.a.createElement("div",{className:"GoodPage__MoreInfo"},c.a.createElement("h3",{className:"GoodPage__MoreInfo--SubHeading"},"More info"),i&&i.description))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__TechSpecs"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"Tech specs"),c.a.createElement("ul",null,c.a.createElement(Se,{goodDetail:i,goodInfo:E}))))))),c.a.createElement(ye,{goods:q,title:"You may also like"}))},Ie=(a(62),function(){var e=J.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{position:t+1})})),t=Object(n.useState)(1),a=Object(z.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(0),i=Object(z.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(1040),d=Object(z.a)(u,2),_=d[0],E=d[1],p=Object(n.useRef)(null),g=function(t){var a=(_+16)*-t;return r===e.length&&1===t?(o(1),void m(0)):1===r&&-1===t?(o(e.length),void m((_+16)*t*(e.length-1))):(o(r+t),void m(s+a))};return Object(n.useEffect)((function(){var e,t=(null===(e=p.current)||void 0===e?void 0:e.offsetWidth)||0;E(t-64-32)}),[p]),c.a.createElement("div",{className:"Banner",ref:p},c.a.createElement("div",{className:"Banner__Slider"},c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return g(-1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-left"})),c.a.createElement("div",{className:"Banner__Container"},c.a.createElement("ul",{className:"Banner__Content",style:{transform:"translateX(".concat(s,"px)")}},e.map((function(e){return c.a.createElement("li",{className:"Banner__Content-image",key:e.position},c.a.createElement("img",{src:e.path,alt:e.alt,style:{width:"".concat(_,"px")},className:"Banner__Image--current"}))})))),c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return g(1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-right"}))),c.a.createElement("div",{className:"Banner__Position-container"},e.map((function(e){return c.a.createElement("span",{key:e.position,className:V()({"Banner__Position--active":e.position===r},"Banner__Position"),onClick:function(){return function(e){if(1===e)return m(0),void o(1);m(-1*((e-1)*_+16*(e-1))),o(e)}(e.position)}})}))))}),Pe=(a(63),function(){var e=Object(r.c)(x);return c.a.createElement("div",{className:"Category"},c.a.createElement("h2",{className:"Category__Title"},"Shop by category"),c.a.createElement("div",{className:"Category__Container"},c.a.createElement("ul",{className:"Category__List"},ae.map((function(t){return c.a.createElement("li",{className:"Category__Item",key:t.name},c.a.createElement(i.b,{to:t.url,className:"Category__Link"},c.a.createElement("div",{className:"Category__ImageContainer"},c.a.createElement("img",{src:t.imgUrl,alt:t.title,className:"Category__Image"})),c.a.createElement("div",{className:"Category__Info"},c.a.createElement("h3",{className:"Category__InfoType Category__Paragraph"},t.title),c.a.createElement("p",{className:"Category__InfoCount Category__Paragraph"},e.filter((function(e){return e.type===t.type})).length," models"))))})))))}),ke=function(){var e=Object(r.c)(x),t=ee(e,Y,""),a=ee(e,$,"");return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,null,c.a.createElement("title",null,"Phone Store"),c.a.createElement("meta",{name:"description",content:"Perfect Phones and Tablets for You\u200e"})),c.a.createElement(Ie,null),c.a.createElement(ye,{goods:t,title:"Hot prices"}),c.a.createElement(Pe,null),c.a.createElement(ye,{goods:a,title:"Brand new models"}))},Ge=function(){var e=Object(r.c)(x),t=Object(r.c)(F),a=Object(H.g)(),o=Object(H.h)(),l=new URLSearchParams(o.search),i=Object(n.useMemo)((function(){return Object(b.a)(e).filter((function(e){return t.some((function(t){return t===e.id}))}))}),[t,e]),s=Object(z.a)(X,1)[0],m=Number(l.get("page")),u=Object(n.useMemo)((function(){return Number(l.get("perPage"))}),[l]);Object(n.useEffect)((function(){X.some((function(e){return e.name===String(u)}))||(l.set("perPage",s.name),a.push({search:l.toString()}))}),[u,s.name,a,l]);var d=i.slice((m||1)*u-u,(m||1)*u);return i.length<u&&m>1?c.a.createElement(H.a,{to:{pathname:"".concat(o.pathname),search:"?page=1&perPage=".concat(u)}}):c.a.createElement("section",{className:"section GoodsSection"},c.a.createElement(de.a,null,c.a.createElement("title",null,"Favorite Goods"),c.a.createElement("meta",{name:"description",content:"Your favorites goods on our Store"})),c.a.createElement("h1",{className:"GoodsSection__Heading"},"Favorite Goods"),c.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(t.length," items")),c.a.createElement("div",{className:"GoodsSection__Control"},i.length>1&&c.a.createElement("div",{className:"GoodSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),c.a.createElement(ge,{options:X}))),c.a.createElement(Ee,{goods:d}),0===d.length&&c.a.createElement(Ne,null),i.length>u&&c.a.createElement("div",{className:"Pagination"},c.a.createElement(pe,{qty:i.length,perPage:u})))},Be=(a(64),function(){var e=Object(r.c)(x),t=Object(r.c)(M),a=Object(r.b)(),o=Object(n.useState)(e.filter((function(e){return t.some((function(t){return t.id===e.id}))}))),l=Object(z.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(206),d=Object(z.a)(u,1)[0];Object(n.useEffect)((function(){t.length&&m(e.filter((function(e){return t.some((function(t){return t.id===e.id}))})))}),[t,e]);var _=s.map((function(e){var a;return(e.discount>0?e.price-e.price/100*e.discount:e.price)*((null===(a=t.find((function(t){return t.id===e.id})))||void 0===a?void 0:a.count)||1)})).reduce((function(e,t){return t+e}),0),f=s.map((function(e){var a;return e.price*((null===(a=t.find((function(t){return t.id===e.id})))||void 0===a?void 0:a.count)||1)})).reduce((function(e,t){return e+t}),0);return c.a.createElement(c.a.Fragment,null,0===t.length&&c.a.createElement("div",{className:"Cart__Empty"},c.a.createElement("h1",{className:"Cart__EmptyTitle"},"Cart is empty :("),c.a.createElement("img",{src:"images/emptyCart.png",alt:"Empty Cart",className:"Cart__EmptyImage"}),c.a.createElement("div",{className:"Cart__ButtonContainer"},c.a.createElement(i.b,{className:"Cart__GoShop",to:"/"},"Go to shop"))),t.length>0&&c.a.createElement("div",{className:"Cart container",style:{height:"".concat(90+128*t.length+16*(t.length-1)+d+16,"px")}},c.a.createElement("h1",{className:"Cart__Title"},"Cart"),c.a.createElement("div",{className:"Cart__InfoContainer"},c.a.createElement("ul",{className:"Cart__List",style:{height:"".concat(128*t.length+16*t.length,"px")}},s.map((function(e,n){var r,o,l;return c.a.createElement("li",{className:"Cart__Item",key:e.id,style:{transform:"translateY(".concat(128*n+(16*n-1),"px)")}},c.a.createElement("div",{className:"Cart__Info"},c.a.createElement("label",{className:"Cart__Label"},c.a.createElement("button",{className:"Cart__Remove",onClick:function(){return a(y(e.id))},type:"button"})),c.a.createElement("div",{className:"Cart__Image-Container"},c.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"Cart__Image"})),c.a.createElement("p",{className:"Cart__Name"},e.name)),c.a.createElement("div",{className:"Cart__CountAndPrice"},c.a.createElement("div",{className:"Cart__ControlPanel"},c.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(r=t.find((function(t){return t.id===e.id&&1===t.count})))||void 0===r?void 0:r.count),onClick:function(){return a(j(e.id,-1))}},c.a.createElement("span",{className:"Cart__CharMinus"})),c.a.createElement("p",{className:"Cart__ModelCount"},null===(o=t.find((function(t){return t.id===e.id})))||void 0===o?void 0:o.count),c.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(l=t.find((function(t){return t.id===e.id&&10===t.count})))||void 0===l?void 0:l.count),onClick:function(){return a(j(e.id,1))}},c.a.createElement("span",{className:"Cart__CharPlus"}))),c.a.createElement("p",{className:"Cart__Price"},"$",e.discount>0?e.price-e.discount/100*e.price:e.price),e.discount>0&&c.a.createElement("p",{className:"Cart__OldPriceCard"},"$",e.price)))}))),t.length>0&&c.a.createElement("div",{className:"Cart__Checkout"},c.a.createElement("div",{className:"Cart__CheckoutContainer"},c.a.createElement("p",{className:"Cart__CheckoutPrice"},"$",_),f>_&&c.a.createElement("p",{className:"Cart__OldPrice"},"$",f),c.a.createElement("p",{className:"Cart__CheckoutTotal"},"Total for"," ",t.length," ","items"),c.a.createElement(i.b,{to:"/checkout",className:"Cart__CheckoutButton",onClick:function(){return a({type:"CLEAR_CART"})}},"Checkout"))))))}),Le=(a(65),function(){return c.a.createElement("div",{className:"Checkout"},c.a.createElement("h1",{className:"Checkout__Title"},"Thank you for purchase"),c.a.createElement("div",{className:"Checkout__BackToShop"},c.a.createElement(i.b,{className:"Checkout__Link",to:"/"},"Go to shop")))}),we=(a(66),function(){var e,t=Object(n.useState)([]),a=Object(z.a)(t,2),o=a[0],l=a[1],s=Object(r.c)(x),m=Object(n.useCallback)((function(){if(s.length>0){var e=[].concat(Object(b.a)(ne),Object(b.a)(ce),Object(b.a)(ae.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{children:s.filter((function(t){return t.type===e.type})).map((function(e){return{name:e.name,title:e.name,url:e.id}}))})}))));l(e)}}),[s]);Object(n.useEffect)((function(){m()}),[s,m]);var u,d=Object(H.j)(),_=o.find((function(e){return e.url===d.params.levelOne})),E=null;_&&d.params.levelTwo&&(E=null===(u=_.children)||void 0===u?void 0:u.find((function(e){return e.url===d.params.levelTwo})));return c.a.createElement("div",{className:"Breadcrumbs"},c.a.createElement("ul",{className:"Breadcrumbs__List"},c.a.createElement("li",{className:"Breadcrumbs__Item"},c.a.createElement(i.b,{to:"/",className:"Breadcrumbs__Link"},c.a.createElement(le,{name:"home",size:1,border:!1,inActive:!1}))),d.params.levelOne&&c.a.createElement("li",{className:"Breadcrumbs__Item"},c.a.createElement(i.b,{to:"/".concat(null===_||void 0===_?void 0:_.url)||!1,className:"Breadcrumbs__Link"},null===_||void 0===_?void 0:_.title)),E&&c.a.createElement("li",{className:"Breadcrumbs__Item"},null===(e=E)||void 0===e?void 0:e.title)))}),Te=function(){var e=Object(H.h)(),t=Object(r.b)(),a=Object(r.c)(M),o=Object(r.c)(F);return Object(n.useEffect)((function(){localStorage.setItem("cartItem",JSON.stringify(Object(b.a)(a)))}),[a]),Object(n.useEffect)((function(){localStorage.setItem("favoriteProducts",JSON.stringify(Object(b.a)(o)))}),[o]),Object(n.useEffect)((function(){t(function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,B();case 4:a=e.sent,n=a.filter((function(e){return e.type})),t({type:"SET_GOODS",goods:n}),t({type:"SET_LOADED"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"SET_ERROR_MESSAGE",errorMessage:"Error occurred when loading data: ".concat(e.t0)});case 13:t({type:"FINISH_LOADING"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null),c.a.createElement("div",{className:"container content-wrapper"},c.a.createElement(H.d,null,c.a.createElement(H.b,{path:"/",exact:!0}),c.a.createElement(H.b,{path:"/:levelOne?/:levelTwo?"},c.a.createElement(we,null))),c.a.createElement(H.d,null,c.a.createElement(H.b,{path:"/",exact:!0,component:ke}),c.a.createElement(H.b,{path:"/favorites",exact:!0,component:Ge}),c.a.createElement(H.b,{path:"/cart",exact:!0,component:Be}),c.a.createElement(H.b,{path:"/checkout",exact:!0,component:Le}),c.a.createElement(H.b,{path:"/:section",exact:!0,component:he}),c.a.createElement(H.b,{path:"/:section/:good",exact:!0,component:Ce}))),c.a.createElement(ue,null))},Ae=function(){return c.a.createElement(r.a,{store:D},c.a.createElement(i.a,null,c.a.createElement(Te,null)))};l.a.render(c.a.createElement(Ae,null),document.getElementById("root"))}]),[[34,1,2]]]);
//# sourceMappingURL=main.a0c2d3cb.chunk.js.map