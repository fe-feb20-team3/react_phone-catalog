(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(24).concat([function(e,t,a){},,,,,function(e,t,a){e.exports=a(58)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),o=a.n(r),l=a(1),s=a(8),i=a.n(s),m=a(13),u=a(2),d=a(5),_=(a(35),[{name:"Phones",title:"Mobile Phones",url:"/phones",type:"phone",imgUrl:"images/category/phones.png"},{name:"Tablets",title:"Tablets",url:"/tablets",type:"tablet",imgUrl:"images/category/tablets.png"},{name:"Accessories",title:"Accessories",url:"/accessories",type:"accessories",imgUrl:"images/category/accessoires.png"}]),f=[{name:"Github",url:"https://github.com/fe-feb20-team3"},{name:"Contacts",url:"/contacts"},{name:"Rights",url:"/rights"}],g=[{alt:"First banner",path:"images/banner.jpg"},{alt:"Second banner",path:"images/banner2.jpg"},{alt:"Third banner",path:"images/banner3.jpg"}],p=[{name:"4"},{name:"8"},{name:"12"},{name:"16"}],E="hotPrice",v="alsoLike",N="newModels",b="https://mate-academy.github.io/react_phone-catalog/api";function h(e){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("".concat(b,"/products.json"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/products/").concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=a(7),I=[{name:"Price: Low to High",field:"price",typeField:"number",type:"cheap",isReverse:!1},{name:"Price: High to Low",field:"price",typeField:"number",type:"expensive",isReverse:!0,isDefault:!0},{name:"Goods: A to Z",field:"name",typeField:"string",type:"alphabet",isReverse:!1},{name:"Goods: Z to A",field:"name",typeField:"string",type:"betalpha",isReverse:!0},{name:"Newest",field:"age",typeField:"number",type:"newest",isReverse:!1},{name:"Oldest",field:"age",typeField:"number",type:"oldest",isReverse:!0}],G=function(e,t,a){switch(t){case E:return Object(O.a)(e).filter((function(e){return e.price&&e.discount})).sort((function(e,t){var a=e.discount/100*e.price;return t.discount/100*t.price-a})).slice(0,8);case v:return Object(O.a)(e).sort((function(){return Math.random()-.5})).filter((function(e){return e.id!==a})).slice(0,8);case N:return Object(O.a)(e).sort((function(e,t){return e.age-t.age})).slice(0,8);default:return e}},k=c.a.createContext({favorites:[],addFavorite:function(){},removeFavorite:function(){},isFavorite:function(){return!1}}),B=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(u.a)(a,2),o=r[0],l=r[1];Object(n.useEffect)((function(){localStorage.getItem("favoriteProducts")&&l(Object(O.a)(JSON.parse(localStorage.getItem("favoriteProducts")||"")))}),[]),Object(n.useEffect)((function(){return localStorage.setItem("favoriteProducts",JSON.stringify(Object(O.a)(o)))}),[o]);return c.a.createElement(k.Provider,{value:{favorites:o,addFavorite:function(e){l([].concat(Object(O.a)(o),[e.id]))},removeFavorite:function(e){l(o.filter((function(t){return t!==e.id})))},isFavorite:function(e){return o.some((function(t){return t===e.id}))}}},t)},L=(a(36),a(37),function(e){var t=e.links,a=e.className;return c.a.createElement("nav",{className:"Nav ".concat(a||"")},c.a.createElement("ul",{className:"Nav__List"},t.map((function(e){var t=e.name,a=e.url,n=e.exact;return c.a.createElement("li",{className:"Nav__Item",key:t},c.a.createElement(l.c,{to:a,exact:n,className:"Nav__Link",activeClassName:"Nav__Link--active"},t))}))))}),w=a(3),x=a.n(w),F=(a(42),function(){var e=Object(d.g)(),t=Object(d.h)(),a=new URLSearchParams(t.search),r=a.get("query")||"",o=Object(n.useState)(r),l=Object(u.a)(o,2),s=l[0],i=l[1],m=Object(n.useRef)(null);Object(n.useEffect)((function(){""===r&&m.current.focus()}),[r]);var _=Object(n.useCallback)(function(e,t){var a;return function(){var n;clearTimeout(a);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];a=(n=window).setTimeout.apply(n,[e,t].concat(r))}}((function(t){""===t?a.delete("query"):a.set("query",t),a.set("page","1"),e.push({search:a.toString()})}),1e3),[]);return c.a.createElement("form",{action:"./",className:"Search",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("label",{htmlFor:"search",className:"Search__Label"},c.a.createElement("input",{type:"text",className:"Search__Input",value:s,placeholder:"Search in phones...",ref:m,onChange:function(e){var t=e.target.value;_(t),i(t)}}),c.a.createElement("button",{className:x()({Search__Button:!0,"Search__Button--clear":s.length>0}),onClick:function(){a.delete("query"),e.push({search:a.toString()}),_(""),i("")}})))}),A=(a(43),function(e){var t=e.name,a=e.tag,n=e.size,r=void 0===n?0:n,o=e.border,l=e.inActive;return c.a.createElement("button",{type:"button",className:x()("Icon Icon__Size".concat(r),{Icon__Border:o})},c.a.createElement("div",{className:x()("Icon__Image","Icon__Image--".concat(t),{"Icon__Image--inactive":l})}),Number(a)>0&&c.a.createElement("div",{className:"Icon__tag"},a))}),T=a(14),R=c.a.createContext({cart:[],selectGood:function(){},changeGoodCount:function(){},clearCart:function(){}}),M=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(u.a)(a,2),o=r[0],l=r[1];Object(n.useEffect)((function(){localStorage.getItem("cartItem")&&l(Object(O.a)(JSON.parse(localStorage.getItem("cartItem")||"")))}),[]),Object(n.useEffect)((function(){return localStorage.setItem("cartItem",JSON.stringify(Object(O.a)(o)))}),[o]);return c.a.createElement(R.Provider,{value:{cart:o,selectGood:function(e){if(o.some((function(t){return t.id===e})))l(o.filter((function(t){return t.id!==e})));else{var t={id:e,count:1};l([].concat(Object(O.a)(o),[t]))}},changeGoodCount:function(e,t){l(o.map((function(a){return Object(T.a)(Object(T.a)({},a),{},{count:e===a.id?a.count+t:a.count})})))},clearCart:function(){l([])}}},t)},H=(a(44),function(e){var t=e.goods,a=Object(n.useContext)(R),r=a.cart,o=a.changeGoodCount,s=a.selectGood,i=a.clearCart,m=Object(n.useState)(t.filter((function(e){return r.some((function(t){return t.id===e.id}))}))),d=Object(u.a)(m,2),_=d[0],f=d[1];Object(n.useEffect)((function(){r.length&&f(t.filter((function(e){return r.some((function(t){return t.id===e.id}))})))}),[r,t]);var g=_.map((function(e){var t;return(e.discount>0?e.price-e.price/100*e.discount:e.price)*((null===(t=r.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.count)||1)})).reduce((function(e,t){return t+e}),0),p=_.map((function(e){var t;return e.price*((null===(t=r.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.count)||1)})).reduce((function(e,t){return e+t}),0);return c.a.createElement(c.a.Fragment,null,0===r.length&&c.a.createElement("div",{className:"Cart__Empty"},c.a.createElement("h1",{className:"Cart__EmptyTitle"},"Cart is empty :("),c.a.createElement("img",{src:"images/emptyCart.png",alt:"Empty Cart",className:"Cart__EmptyImage"}),c.a.createElement("div",{className:"Cart__ButtonContainer"},c.a.createElement(l.b,{className:"Cart__GoShop",to:"/"},"Go to shop"))),r.length>0&&c.a.createElement("div",{className:"Cart container",style:{height:"".concat(90+128*r.length+16*(r.length-1),"px")}},c.a.createElement("h1",{className:"Cart__Title"},"Cart"),c.a.createElement("div",{className:"Cart__InfoContainer"},c.a.createElement("ul",{className:"Cart__List"},_.map((function(e,t){var a,n,l;return c.a.createElement("li",{className:"Cart__Item",key:e.id,style:{transform:"translateY(".concat(128*t+(16*t-1),"px)")}},c.a.createElement("div",{className:"Cart__Info"},c.a.createElement("label",{className:"Cart__Label"},c.a.createElement("button",{className:"Cart__Remove",onClick:function(){return s(e.id)},type:"button"})),c.a.createElement("div",{className:"Cart__Image-Container"},c.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"Cart__Image"})),c.a.createElement("p",{className:"Cart__Name"},e.name)),c.a.createElement("div",{className:"Cart__CountAndPrice"},c.a.createElement("div",{className:"Cart__ControlPanel"},c.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(a=r.find((function(t){return t.id===e.id&&1===t.count})))||void 0===a?void 0:a.count),onClick:function(){return o(e.id,-1)}},c.a.createElement("span",{className:"Cart__CharMinus"})),c.a.createElement("p",{className:"Cart__ModelCount"},null===(n=r.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.count),c.a.createElement("button",{type:"button",className:"Cart__ChangeCount",disabled:Boolean(null===(l=r.find((function(t){return t.id===e.id&&10===t.count})))||void 0===l?void 0:l.count),onClick:function(){return o(e.id,1)}},c.a.createElement("span",{className:"Cart__CharPlus"}))),c.a.createElement("p",{className:"Cart__Price"},"$",e.discount>0?e.price-e.discount/100*e.price:e.price),e.discount>0&&c.a.createElement("p",{className:"Cart__OldPriceCard"},"$",e.price)))}))),r.length>0&&c.a.createElement("div",{className:"Cart__Checkout"},c.a.createElement("div",{className:"Cart__CheckoutContainer"},c.a.createElement("p",{className:"Cart__CheckoutPrice"},"$",g),p>g&&c.a.createElement("p",{className:"Cart__OldPrice"},"$",p),c.a.createElement("p",{className:"Cart__CheckoutTotal"},"Total for"," ",r.length," ","items"),c.a.createElement(l.b,{to:"/checkout",className:"Cart__CheckoutButton",onClick:function(){return i()}},"Checkout"))))))}),U=(a(45),function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(k).favorites;return c.a.createElement("nav",{className:"NavSliding"},c.a.createElement("button",{type:"button",className:x()("NavSliding__Button",{"NavSliding__Button--cross":a}),onClick:function(){r(!a)}},c.a.createElement("span",{className:"NavSliding__ButtonLine"}),c.a.createElement("span",{className:"NavSliding__ButtonLine"})),c.a.createElement("section",{className:x()("NavSliding__Block",{show:a})},c.a.createElement("div",{className:"NavSliding__Illustration"}),c.a.createElement("div",{className:"NavSliding__Content"},c.a.createElement("ul",{className:"NavSliding__List--secondary"},c.a.createElement("li",{className:"NavSliding__Item--secondary"},c.a.createElement(l.b,{to:"/favorites",className:"NavSliding__Icon"},c.a.createElement(A,{name:"favorites",tag:o.length,border:!1,inActive:!1}))),c.a.createElement("li",{className:"NavSliding__Item--secondary"},c.a.createElement(l.b,{to:"/cart",className:"NavSliding__Icon"},c.a.createElement(A,{name:"shopping-bag",border:!1,inActive:!1})))),c.a.createElement("ul",{className:"NavSliding__List"},c.a.createElement("li",{className:"NavSliding__Item"},c.a.createElement(l.c,{to:"/",exact:!0,className:"NavSliding__Link NavSliding__Link--primary",activeClassName:"Nav__Link--active"},"Home")),_.map((function(e){var t=e.name,a=e.url,n=e.exact;return c.a.createElement("li",{className:"NavSliding__Item",key:t},c.a.createElement(l.c,{to:a,exact:n,className:"NavSliding__Link NavSliding__Link--primary",activeClassName:"NavSliding__Link--active"},t))}))),c.a.createElement("ul",{className:"NavSliding__List--secondary"},f.map((function(e){var t=e.name,a=e.url;return c.a.createElement("li",{className:"NavSliding__Item--secondary",key:t},c.a.createElement(l.c,{to:a,className:"NavSliding__Link NavSliding__Link--secondary",activeClassName:"NavSliding__Link--active"},t))}))))))}),D=function(){var e=Object(n.useContext)(k).favorites,t=Object(n.useContext)(R).cart;return c.a.createElement("header",{className:"Header",id:"top"},c.a.createElement(l.b,{to:"/",className:"Header__Logo"},c.a.createElement("img",{src:"./img/logo.svg",alt:"Logo"})),c.a.createElement("div",{className:"Header__HomeLink"},c.a.createElement(l.c,{to:"/",exact:!0,className:"Nav__Link",activeClassName:"Nav__Link--active"},"Home")),c.a.createElement(L,{links:_,className:"Header__Nav"}),c.a.createElement(d.b,{path:"/:section",exact:!0,component:F}),c.a.createElement(l.b,{to:"/favorites",className:"Header__Button"},c.a.createElement(A,{name:"favorites",tag:e.length,border:!1,inActive:!1})),c.a.createElement(l.b,{to:"/cart",className:"Header__Button"},c.a.createElement(A,{name:"shopping-bag",tag:t.length,border:!1,inActive:!1})),c.a.createElement(U,null))},q=(a(46),function(){return c.a.createElement("footer",{className:"Footer"},c.a.createElement("div",{className:"Footer__Content container"},c.a.createElement(l.b,{to:"/",className:"Footer__Logo"},c.a.createElement("img",{src:"./images/logo.svg",alt:"Logo"})),c.a.createElement(L,{links:f}),c.a.createElement(l.b,{to:"#top",className:"Footer__Link",onClick:function(e){e.preventDefault(),window.scrollTo(0,0)}},"Back to top",c.a.createElement(A,{name:"arrow-up",size:2,border:!0,inActive:!1}))))}),J=a(12),z=(a(47),a(48),a(24),function(e){var t=e.text,a=e.selected,r=e.id,o=Object(n.useContext)(R).selectGood;return c.a.createElement("button",{type:"button",className:x()({Button:!0,Button__Primary:!0,"Button__Primary--selected":a}),onClick:function(){return o(r)}},t)}),$=function(e){var t=e.good,a=Object(d.i)().section,r=Object(n.useContext)(k),o=r.isFavorite,s=r.addFavorite,i=r.removeFavorite,m=Object(n.useContext)(R).cart;return c.a.createElement("article",{key:t.id,className:"GoodsList__Item GoodItem"},c.a.createElement(l.b,{to:"/".concat(a,"/").concat(t.id),className:"GoodItem__Link"},c.a.createElement("img",{src:t.imageUrl,alt:t.name,className:"GoodItem__Image"}),c.a.createElement("h3",{className:"GoodItem__Heading"},t.name)),c.a.createElement("section",{className:"GoodItem__Price"},c.a.createElement("span",{className:"GoodItem__Price--actual"},t.discount>0?t.price-t.price/100*t.discount:t.price),t.discount>0&&c.a.createElement("span",{className:"GoodItem__Price--full"},t.price)),c.a.createElement("section",{className:"GoodItem__PropsList"},c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Screen"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.screen?t.screen:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"Capacity"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.capacity?t.capacity:"-")),c.a.createElement("div",{className:"GoodItem__PropsItem"},c.a.createElement("span",{className:"GoodItem__PropsItem--title"},"RAM"),c.a.createElement("span",{className:"GoodItem__PropsItem--value"},t.ram?t.ram:"-"))),c.a.createElement("section",{className:"GoodItem__Buttons"},c.a.createElement("div",{className:"GoodItem__Buttons--main"},c.a.createElement(z,{text:m.some((function(e){return e.id===t.id}))?"Remove from cart":"Add to cart",selected:m.some((function(e){return e.id===t.id})),id:t.id})),c.a.createElement("label",{onClick:function(){var e;o(e=t)?i(e):s(e)}},c.a.createElement(A,{name:o(t)?"favorites-filled":"favorites",border:!0,inActive:!1}))))},W=function(e){var t=e.goods;return c.a.createElement("div",{className:"GoodsList"},t.map((function(e){return c.a.createElement($,{good:e,key:e.id})})))},Z=(a(49),function(e){var t=e.qty,a=e.perPage,n=Object(d.h)(),r=Object(d.g)(),o=new URLSearchParams(n.search),l=Number(o.get("page")),s=o.get("sortBy"),i=Array(Math.ceil(t/Number(a))).fill(0,0,t).map((function(e,t){return e+t+1})),m=function(e){s&&o.set("sortBy",s),o.set("page","".concat(e)),r.push({search:o.toString()})};if(l<=0)return c.a.createElement(d.a,{to:{pathname:"".concat(n.pathname),search:"?page=1&perPage=".concat(a)}});if(l>i.length)return c.a.createElement(d.a,{to:{pathname:"".concat(n.pathname),search:"?page=".concat(i.length,"&perPage=").concat(a)}});var u=function(e){return"prev"===e&&l>1?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-left",onClick:function(){return m(l-1)}}):"prev"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-left Pagination__Button--disabled"}):"next"===e&&l<i.length?c.a.createElement("button",{type:"button",className:"Pagination__Button Pagination__Button--arrow-right",onClick:function(){return m(l+1)}}):"next"===e?c.a.createElement("div",{className:" Pagination__Button Pagination__Button--arrow-right Pagination__Button--disabled"}):""};return c.a.createElement("nav",{className:"Pagination"},c.a.createElement("ul",{className:"Pagination__List"},c.a.createElement("li",{className:"Pagination__Item"},u("prev")),i.map((function(e){return c.a.createElement("li",{className:"Pagination__Item",key:e},c.a.createElement("button",{type:"button",className:x()({Pagination__Button:!0,"Pagination__Button--active":e===l}),onClick:function(){return m(e)}},e))})),c.a.createElement("li",{className:"Pagination__Item"},u("next"))))}),Q=function(e){var t=e.options,a=Object(d.g)(),r=Object(d.h)(),o=new URLSearchParams(r.search),l=o.get("perPage"),s=t.find((function(e){return e.name===l}))||t[0],i=Object(n.useState)(!1),m=Object(u.a)(i,2),_=m[0],f=m[1],g=function(){f(!1)};return Object(n.useEffect)((function(){_?document.documentElement.addEventListener("click",g):document.documentElement.removeEventListener("click",g)}),[_]),c.a.createElement("div",{className:x()({Select:!0,Select__Closest:!_})},c.a.createElement("label",{className:x()({"Select__Active--after":_})}),c.a.createElement("button",{type:"button",className:x()({Select__Active:!0,"Select__Active--opened":_}),onClick:function(){return f(!0)}},s.name,c.a.createElement("span",null,c.a.createElement("div",{className:x()({Select__Arrow:!0,"Select__Arrow--opened":_})}))),c.a.createElement("ul",{className:x()({Select__List:!0,"Select__List--opened":_})},t.map((function(e){return e.name!==s.name&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.name,onClick:function(){return function(e){o.set("perPage",e.name),o.set("page","1"),a.push({search:o.toString()}),f(!1)}(e)}},e.name)}))))},X=(a(50),function(){return c.a.createElement("div",{className:"NotAvailable"},c.a.createElement("img",{src:"images/notAvailable.jpg",alt:"Goods not found",className:"NotAvailable__Image"}))}),Y=(a(51),function(e){var t=e.options,a=t.find((function(e){return e.isDefault}))||t[0],r=Object(d.g)(),o=Object(d.h)(),l=new URLSearchParams(o.search),s=Object(n.useMemo)((function(){return l.get("sortBy")||a}),[l,a]),i=Object(n.useMemo)((function(){return l.get("perPage")}),[l]),m=t.find((function(e){return e.type===s}))||a,_=Object(n.useState)(!1),f=Object(u.a)(_,2),g=f[0],p=f[1],E=function(){p(!1)};return Object(n.useEffect)((function(){g?document.documentElement.addEventListener("click",E):document.documentElement.removeEventListener("click",E)}),[g]),c.a.createElement("div",{className:x()({Select:!0,Select__Closest:!g})},c.a.createElement("label",{className:x()({"Select__Active--after":g})}),c.a.createElement("button",{type:"button",className:x()({Select__Active:!0,"Select__Active--opened":g}),onClick:function(){return p(!0)}},m.name,c.a.createElement("span",null,c.a.createElement("div",{className:x()({Select__Arrow:!0,"Select__Arrow--opened":g})}))),c.a.createElement("ul",{className:x()({Select__List:!0,"Select__List--opened":g})},t.map((function(e){return e.type!==m.type&&c.a.createElement("li",{key:e.name,className:"Select__Item","data-value":e.type,onClick:function(){return function(e){l.set("sortBy",e.type),l.set("page","1"),i&&l.set("perPage",i),r.push({search:l.toString()}),p(!1)}(e)}},e.name)}))))}),K=function(e){var t,a,r=e.goods,o=Object(d.g)(),l=Object(d.h)(),s=new URLSearchParams(l.search),i=(null===(t=s.get("query"))||void 0===t?void 0:t.toLowerCase())||"",m=Number(s.get("page")),u=p[0].name,f=Object(n.useMemo)((function(){return s.get("perPage")}),[s]),g=Number(u);p.find((function(e){return e.name===f}))?g=Number(null===(a=p.find((function(e){return e.name===f})))||void 0===a?void 0:a.name):(s.set("perPage",u),o.push({search:s.toString()}));var E=s.get("sortBy"),v=I.find((function(e){return e.type===E}))||I[1];v||(s.set("sortBy",I[1].type),o.push({search:s.toString()}));var N=Object(d.i)().section,b=_.find((function(e){return e.url==="/".concat(N)})),h=Object(n.useMemo)((function(){return r.filter((function(e){return e.type===(null===b||void 0===b?void 0:b.type)}))}),[r,b]),S=Object(n.useMemo)((function(){return h.filter((function(e){return"".concat(e.name," ").concat(e.snippet).toLowerCase().includes(i)}))}),[i,h]),C=Object(n.useMemo)((function(){return function(e,t){return"number"===t.typeField?Object(O.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return(Number(e[t.field])-Number(a[t.field]))*n})):"string"===t.typeField?Object(O.a)(e).sort((function(e,a){var n=t.isReverse?-1:1;return String(e[t.field]).localeCompare(String(a[t.field]))*n})):e}(S,v)}),[S,v]),P=C.slice((m||1)*g-g,(m||1)*g);return console.log(C.length),c.a.createElement(c.a.Fragment,null,0===C.length&&c.a.createElement(X,null),C.length>=1&&c.a.createElement("section",{className:"section GoodsSection"},c.a.createElement(J.a,null,c.a.createElement("title",null,(null===b||void 0===b?void 0:b.title)||(null===b||void 0===b?void 0:b.name))),c.a.createElement("h1",{className:"GoodsSection__Heading"},(null===b||void 0===b?void 0:b.title)||(null===b||void 0===b?void 0:b.name)),c.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(h.length," models")),c.a.createElement("div",{className:"GoodsSection__Control"},h.length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"GoodsSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Sort by"),c.a.createElement(Y,{options:I})),c.a.createElement("div",{className:"GoodSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),c.a.createElement(Q,{options:p})))),c.a.createElement("div",{className:"GoodsSection__Container"},c.a.createElement(W,{goods:P})),S.length>g&&c.a.createElement("div",{className:"Pagination"},c.a.createElement(Z,{qty:S.length,perPage:g}))))},V=(a(52),function(e){var t=e.goodInfo,a=e.goodDetail;return c.a.createElement("ul",{className:"GoodPage__InfoList"},c.a.createElement("li",{className:"GoodPage__InfoItem"},c.a.createElement("p",{className:"GoodPage__InfoTitle"},"Screen"),c.a.createElement("p",{className:"GoodPage__InfoFeature"},t&&(t.screen||"No info"))),c.a.createElement("li",{className:"GoodPage__InfoItem"},c.a.createElement("p",{className:"GoodPage__InfoTitle"},"Resolution"),c.a.createElement("p",{className:"GoodPage__InfoFeature"},a&&(a.display.screenResolution||"No info"))),c.a.createElement("li",{className:"GoodPage__InfoItem"},c.a.createElement("p",{className:"GoodPage__InfoTitle"},"Processor"),c.a.createElement("p",{className:"GoodPage__InfoFeature"},a&&(a.hardware.cpu||"No info"))),c.a.createElement("li",{className:"GoodPage__InfoItem"},c.a.createElement("p",{className:"GoodPage__InfoTitle"},"RAM"),c.a.createElement("p",{className:"GoodPage__InfoFeature"},t&&(t.ram||"No info"))))}),ee=function(e){var t=e.goodInfo,a=e.goodDetail;return c.a.createElement("ul",{className:"GoodPage__SpecsList"},c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Screen"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},t&&(t.screen||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Resolution"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},a&&(a.display.screenResolution||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Processor"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},a&&(a.hardware.cpu||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"RAM"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},t&&(t.ram||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Built in memory"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},t&&(t.capacity||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Camera"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},a&&(a.camera.primary||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Zoom"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},a&&(a.camera.zoom||"No info"))),c.a.createElement("li",{className:"GoodPage__SpecsItem"},c.a.createElement("p",{className:"GoodPage__SpecsTitle"},"Cell"),c.a.createElement("p",{className:"GoodPage__SpecsFeature"},a&&(a.connectivity.cell||"No info"))))},te=(a(53),function(e){var t,a=e.goods,r=e.title,o=Object(n.useState)(0),l=Object(u.a)(o,2),s=l[0],i=l[1],m=Object(n.useRef)(null),d=Object(n.useState)(4),_=Object(u.a)(d,2),f=_[0],g=_[1],p=Object(n.useState)(272),E=Object(u.a)(p,2),v=E[0],N=E[1],b=a.length,h=Object(n.useState)(f),S=Object(u.a)(h,2),C=S[0],P=S[1],y=function(e){i(s+(v+16)*-e),P(C+e)};return Object(n.useEffect)((function(){var e,t=(null===(e=m.current)||void 0===e?void 0:e.offsetWidth)||0,a=Math.floor(t/v),n=(t-16*(a-1))/a;g(a),P(a),i(0),N(n)}),[null===(t=m.current)||void 0===t?void 0:t.offsetWidth]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Card__Container",ref:m},c.a.createElement("div",{className:"Card__Title-site"},c.a.createElement("div",null,c.a.createElement("h2",{className:"Card__Title"},r)),c.a.createElement("div",{className:"Card__Buttons"},c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return y(-1)},disabled:C===f},c.a.createElement("div",{className:x()({"Card__Button--arrow-left":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":C===f})})),c.a.createElement("button",{className:"Card__Button",type:"button",onClick:function(){return y(1)},disabled:C===b},c.a.createElement("div",{className:x()({"Card__Button--arrow-right":!0,"Card__Button--arrow":!0,"Card__Button--arrow--disabled":C===b})})))),c.a.createElement("ul",{className:"Card",style:{transform:"translateX(".concat(s,"px)")}},a.map((function(e){return c.a.createElement("li",{key:e.id,className:"Card__Item",style:{width:"".concat(v,"px")}},c.a.createElement($,{good:e}))})))))}),ae=(a(54),function(){return c.a.createElement("div",{className:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}),ne=function(e){var t=e.goods,a=Object(d.i)().good,r=Object(d.j)(),o=Object(n.useState)(),l=Object(u.a)(o,2),s=l[0],f=l[1],g=Object(n.useState)(),p=Object(u.a)(g,2),E=p[0],v=p[1],N=Object(n.useState)(""),b=Object(u.a)(N,2),h=b[0],S=b[1],C=Object(n.useState)(!1),P=Object(u.a)(C,2),j=P[0],O=P[1],I=Object(n.useState)(!1),B=Object(u.a)(I,2),L=B[0],w=B[1],F=Object(n.useState)(0),M=Object(u.a)(F,2),H=M[0],U=M[1],D=t.find((function(e){return s&&e.id===s.id})),q=G(t,"alsoLike",r.params.good),$=Object(n.useContext)(R).cart,W=Object(n.useContext)(k),Z=W.isFavorite,Q=W.addFavorite,X=W.removeFavorite,Y=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),S(""),e.prev=2,e.next=5,y(t);case 5:a=e.sent,n=Object(T.a)({},a),f(n),w(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),S(String(e.t0));case 14:O(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(t.length){var e=t.find((function(e){return e.id===r.params.good}));v(e)}}),[t]),Object(n.useEffect)((function(){Y(a)}),[a]);var K=Object(n.useMemo)((function(){return E&&E.discount>0?E.price-E.price/100*E.discount:E&&E.price}),[E]);if("undefined"===r.params.section&&t&&D){var ne=_.find((function(e){return e.type===D.type}));if(ne)return c.a.createElement(d.a,{to:"".concat(ne.url,"/").concat(r.params.good)})}return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"section"},h&&c.a.createElement("div",null,h),j&&c.a.createElement("div",{className:"GoodPage__Loading"},c.a.createElement(ae,null)),j&&L&&"",s&&c.a.createElement("article",{className:"GoodPage"},c.a.createElement(J.a,null,c.a.createElement("title",null,s.name)),c.a.createElement("h1",{className:"GoodPage__Heading"},s.name),c.a.createElement("div",{className:"GoodPage__Content"},c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Images"},c.a.createElement("ul",{className:"GoodPage__ImageList"},s.images.map((function(e,t){return c.a.createElement("li",{className:x()({"GoodPage__Image--current":t===H},"GoodPage__ImageItem"),key:e},c.a.createElement("a",{href:"./#",onClick:function(e){return function(e,t){e.preventDefault(),U(t)}(e,t)}},c.a.createElement("img",{src:e,alt:s.name,className:"GoodPage__Image"})))}))),c.a.createElement("img",{src:s.images[H],alt:s.name,className:"GoodPage__ImageBig"}))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("span",{className:"GoodPage__Id"},"ID:"," ",E&&E.id),c.a.createElement("section",{className:"GoodPage__NarrowBlock"},c.a.createElement("div",{className:"GoodPage__Price"},c.a.createElement("span",{className:"GoodPage__Price--actual"},K),E&&E.discount>0&&c.a.createElement("span",{className:"GoodPage__Price--full"},E.price)),c.a.createElement("div",{className:"GoodPage__Buttons"},c.a.createElement("div",{className:"GoodPage__Buttons--main"},c.a.createElement(z,{text:$.some((function(e){return e.id===r.params.good}))?"Remove from cart":"Add to cart",selected:$.some((function(e){return e.id===r.params.good})),id:r.params.good})),c.a.createElement("div",{className:"GoodPage__Buttons--favorites"},c.a.createElement("label",{onClick:function(){var e;Z(e=a)?X(e):Q(e)}},c.a.createElement(A,{name:Z(a)?"favorites-filled":"favorites",border:!0,inActive:!1}))))),c.a.createElement("section",{className:"GoodPage__Info"},c.a.createElement(V,{goodDetail:s,goodInfo:E}))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__Description"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"About"),E&&E.snippet,c.a.createElement("div",{className:"GoodPage__MoreInfo"},c.a.createElement("h3",{className:"GoodPage__MoreInfo--SubHeading"},"More info"),s&&s.description))),c.a.createElement("div",{className:"GoodPage__Column"},c.a.createElement("section",{className:"GoodPage__TechSpecs"},c.a.createElement("h2",{className:"GoodPage__SubHeading"},"Tech specs"),c.a.createElement("ul",null,c.a.createElement(ee,{goodDetail:s,goodInfo:E}))))))),c.a.createElement("div",{className:"GoodPage__Slider"},c.a.createElement(te,{goods:q,title:"You may also like"})))},ce=(a(55),function(){var e=g.map((function(e,t){return Object(T.a)(Object(T.a)({},e),{},{position:t+1})})),t=Object(n.useState)(1),a=Object(u.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(0),s=Object(u.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)(1040),_=Object(u.a)(d,2),f=_[0],p=_[1],E=Object(n.useRef)(null),v=function(t){var a=(f+16)*-t;return r===e.length&&1===t?(o(1),void m(0)):1===r&&-1===t?(o(e.length),void m((f+16)*t*(e.length-1))):(o(r+t),void m(i+a))};return Object(n.useEffect)((function(){var e,t=(null===(e=E.current)||void 0===e?void 0:e.offsetWidth)||0;p(t-64-32)}),[E]),c.a.createElement("div",{className:"Banner",ref:E},c.a.createElement("div",{className:"Banner__Slider"},c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return v(-1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-left"})),c.a.createElement("div",{className:"Banner__Container"},c.a.createElement("ul",{className:"Banner__Content",style:{transform:"translateX(".concat(i,"px)")}},e.map((function(e){return c.a.createElement("li",{className:"Banner__Content-image",key:e.position},c.a.createElement("img",{src:e.path,alt:e.alt,style:{width:"".concat(f,"px")},className:"Banner__Image--current"}))})))),c.a.createElement("button",{type:"button",className:"Banner__Button",onClick:function(){return v(1)}},c.a.createElement("div",{className:"Banner__Image Banner__Image--arrow-right"}))),c.a.createElement("div",{className:"Banner__Position-container"},e.map((function(e){return c.a.createElement("span",{key:e.position,className:x()({"Banner__Position--active":e.position===r},"Banner__Position"),onClick:function(){return function(e){if(1===e)return m(0),void o(1);m(-1*((e-1)*f+16*(e-1))),o(e)}(e.position)}})}))))}),re=(a(56),function(e){var t=e.goods;return c.a.createElement("div",{className:"Category"},c.a.createElement("h2",{className:"Category__Title"},"Shop by category"),c.a.createElement("div",{className:"Category__Container"},c.a.createElement("ul",{className:"Category__List"},_.map((function(e){return c.a.createElement("li",{className:"Category__Item",key:e.name},c.a.createElement(l.b,{to:e.url,className:"Category__Link"},c.a.createElement("div",{className:"Category__ImageContainer"},c.a.createElement("img",{src:e.imgUrl,alt:e.title,className:"Category__Image"})),c.a.createElement("div",{className:"Category__Info"},c.a.createElement("h3",{className:"Category__InfoType Category__Paragraph"},e.title),c.a.createElement("p",{className:"Category__InfoCount Category__Paragraph"},t.filter((function(t){return t.type===e.type})).length," models"))))})))))}),oe=function(e){var t=e.goods,a=G(t,E,""),n=G(t,N,"");return c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,null,c.a.createElement("title",null,"Phone Store")),c.a.createElement(ce,null),c.a.createElement(te,{goods:a,title:"Hot prices"}),c.a.createElement(re,{goods:t}),c.a.createElement(te,{goods:n,title:"Brand new models"}))},le=function(e){var t,a=e.goods,r=Object(d.g)(),o=Object(d.h)(),l=new URLSearchParams(o.search),s=Object(n.useContext)(k).favorites,i=Object(n.useMemo)((function(){return Object(O.a)(a).filter((function(e){return s.some((function(t){return t===e.id}))}))}),[s,a]),m=Number(l.get("page")),u=p[0].name,_=Object(n.useMemo)((function(){return l.get("perPage")}),[l]),f=Number(u);p.find((function(e){return e.name===_}))?f=Number(null===(t=p.find((function(e){return e.name===_})))||void 0===t?void 0:t.name):(l.set("perPage",u),r.push({search:l.toString()}));var g=i.slice((m||1)*f-f,(m||1)*f);return c.a.createElement("section",{className:"section GoodsSection"},c.a.createElement(J.a,null,c.a.createElement("title",null,"Favorite Goods")),c.a.createElement("h1",{className:"GoodsSection__Heading"},"Favorite Goods"),c.a.createElement("div",{className:"GoodsSection__Qty"},"".concat(s.length," items")),c.a.createElement("div",{className:"GoodsSection__Control"},i.length>1&&c.a.createElement("div",{className:"GoodSection__Select"},c.a.createElement("div",{className:"GoodsSection__SelectName"},"Items on page"),c.a.createElement(Q,{options:p}))),c.a.createElement(W,{goods:g}),i.length>f&&c.a.createElement("div",{className:"Pagination"},c.a.createElement(Z,{qty:i.length,perPage:f})))},se=(a(57),function(){return c.a.createElement("div",{className:"Checkout"},c.a.createElement("h1",{className:"Checkout__Title"},"Thank you for purchase"),c.a.createElement("div",{className:"Checkout__BackToShop"},c.a.createElement(l.b,{className:"Checkout__Link",to:"/"},"Go to shop")))}),ie=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),s=l[0],_=l[1],f=Object(n.useState)(!1),g=Object(u.a)(f,2),p=g[0],E=g[1],v=Object(n.useState)(!1),N=Object(u.a)(v,2),b=N[0],h=N[1],S=Object(n.useRef)(null),P=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),_(""),e.prev=2,e.next=5,C();case 5:t=e.sent,a=t.filter((function(e){return e.type})),r(a),h(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),_(String(e.t0));case 14:E(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(M,null,c.a.createElement(B,null,c.a.createElement(D,null),c.a.createElement("div",{className:"container",ref:S},s&&c.a.createElement("div",null,s),p&&b&&"",c.a.createElement(d.d,null,c.a.createElement(d.b,{path:"/",exact:!0,render:function(){return c.a.createElement(oe,{goods:a})}}),c.a.createElement(d.b,{path:"/favorites",render:function(){return c.a.createElement(le,{goods:a})}}),c.a.createElement(d.b,{path:"/cart",exact:!0,render:function(){return c.a.createElement(H,{goods:a})}}),c.a.createElement(d.b,{path:"/checkout",exact:!0,render:function(){return c.a.createElement(se,null)}}),c.a.createElement(d.b,{path:"/:section",exact:!0,render:function(){return c.a.createElement(K,{goods:a})}}),c.a.createElement(d.b,{path:"/:section/:good",exact:!0,render:function(){return c.a.createElement(ne,{goods:a})}}))))),c.a.createElement(q,null))};o.a.render(c.a.createElement(l.a,null,c.a.createElement(ie,null)),document.getElementById("root"))}]),[[29,1,2]]]);
//# sourceMappingURL=main.3dcb4826.chunk.js.map